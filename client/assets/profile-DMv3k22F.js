import{v as Pr,a as i,p as t,r as Rn,R as pe,y as In,w as Dn,A as $n}from"./chunk-EPOLDU6W-BHelFxtI.js";import{s as O,_ as de,a as Mr,b as Tn,c as Ie,d as ur}from"./supabase-BO81Wobz.js";import{A as An,d as Tt,c as I,u as ut,P as fe,I as Y,T as On,t as C,C as fr,L as H,E as wt,a as jt}from"./AuthChecker-lr5Qdb8c.js";import{P as Wt,c as ce,u as ee,B as R,C as ue,a as he,b as At,d as Ot,e as Fn}from"./card-DCCwVGqU.js";import{c as Ln,K as Un,S as Ae,B as $e}from"./badge-z8JLICnP.js";import{b as Pe,u as xe,c as Rr,R as Vn,A as Bn,P as Ir,D as Dr,C as Wn,a as Gn}from"./index-BMxA-PKL.js";import{c as A,L as ve,a as B}from"./loader-circle-B5kmy_fB.js";import{a as zn}from"./index-BRs_dBEV.js";import{M as Hn}from"./mail-BwQk4DBE.js";import{L as Kn}from"./lock-RqldTzhB.js";import"./ThemeProvider-1bH72AO7.js";const qn=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Yn=A("award",qn);const Xn=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Zn=A("bell",Xn);const Jn=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Ft=A("bookmark",Jn);const Qn=[["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2",key:"1ksdt3"}],["path",{d:"M22 13a18.15 18.15 0 0 1-20 0",key:"12hx5q"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],gr=A("briefcase-business",Qn);const eo=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],to=A("briefcase",eo);const ro=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],$r=A("building",ro);const ao=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],no=A("calendar-days",ao);const oo=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],so=A("calendar",oo);const io=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Tr=A("camera",io);const co=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ar=A("clock",co);const lo=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Or=A("ellipsis",lo);const uo=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],fo=A("file-text",uo);const go=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Fr=A("globe",go);const mo=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Lr=A("heart",mo);const po=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],ho=A("house",po);const xo=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Ur=A("image",xo);const vo=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Vr=A("log-out",vo);const yo=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],bo=A("map-pin",yo);const wo=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],jo=A("message-circle",wo);const No=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],st=A("message-square",No);const ko=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Co=A("phone",ko);const So=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_o=A("search",So);const Eo=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Po=A("send",Eo);const Mo=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ro=A("settings",Mo);const Io=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Do=A("share-2",Io);const $o=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],To=A("shield",$o);const Ao=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Oo=A("smile",Ao);const Fo=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Oe=A("square-pen",Fo);const Lo=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Br=A("trash-2",Lo);const Uo=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Lt=A("user-plus",Uo);const Vo=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Bo=A("user",Vo);const Wo=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],rt=A("users",Wo);const Go=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],at=A("video",Go);const zo=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gt=A("x",zo);function Ho({children:e}){const r=Pr(),[a,n]=i.useState(!0),[o,s]=i.useState(!1);i.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:{session:c},error:d}=await O.auth.getSession();if(d)throw console.error("Session error:",d),d;if(!c){r("/",{replace:!0});return}const{data:f,error:g}=await O.from("users").select("id").eq("id",c.user.id).single();if(g||!f){console.error("User not found in database:",g),await O.auth.signOut(),r("/",{replace:!0});return}s(!0)}catch(c){console.error("Authentication error:",c),r("/",{replace:!0})}finally{n(!1)}};return a?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:t.jsxs("div",{className:"text-center",children:[t.jsx(ve,{className:"h-12 w-12 animate-spin mx-auto text-blue-600"}),t.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Verifying authentication..."})]})}):o?t.jsx(An,{requireAuth:!0,redirectTo:"/",children:e}):null}var Nt={exports:{}},kt={};var mr;function Ko(){if(mr)return kt;mr=1;var e=Rn();function r(u,p){return u===p&&(u!==0||1/u===1/p)||u!==u&&p!==p}var a=typeof Object.is=="function"?Object.is:r,n=e.useState,o=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function c(u,p){var y=p(),v=n({inst:{value:y,getSnapshot:p}}),h=v[0].inst,x=v[1];return s(function(){h.value=y,h.getSnapshot=p,d(h)&&x({inst:h})},[u,y,p]),o(function(){return d(h)&&x({inst:h}),u(function(){d(h)&&x({inst:h})})},[u]),l(y),y}function d(u){var p=u.getSnapshot;u=u.value;try{var y=p();return!a(u,y)}catch{return!0}}function f(u,p){return p()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return kt.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,kt}var pr;function qo(){return pr||(pr=1,Nt.exports=Ko()),Nt.exports}var Yo=qo();function Xo(){return Yo.useSyncExternalStore(Zo,()=>!0,()=>!1)}function Zo(){return()=>{}}var zt="Avatar",[Jo]=Ln(zt),[Qo,Wr]=Jo(zt),Gr=i.forwardRef((e,r)=>{const{__scopeAvatar:a,...n}=e,[o,s]=i.useState("idle");return t.jsx(Qo,{scope:a,imageLoadingStatus:o,onImageLoadingStatusChange:s,children:t.jsx(Wt.span,{...n,ref:r})})});Gr.displayName=zt;var zr="AvatarImage",Hr=i.forwardRef((e,r)=>{const{__scopeAvatar:a,src:n,onLoadingStatusChange:o=()=>{},...s}=e,l=Wr(zr,a),c=es(n,s),d=Pe(f=>{o(f),l.onImageLoadingStatusChange(f)});return Tt(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?t.jsx(Wt.img,{...s,ref:r,src:n}):null});Hr.displayName=zr;var Kr="AvatarFallback",qr=i.forwardRef((e,r)=>{const{__scopeAvatar:a,delayMs:n,...o}=e,s=Wr(Kr,a),[l,c]=i.useState(n===void 0);return i.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(d)}},[n]),l&&s.imageLoadingStatus!=="loaded"?t.jsx(Wt.span,{...o,ref:r}):null});qr.displayName=Kr;function hr(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function es(e,{referrerPolicy:r,crossOrigin:a}){const n=Xo(),o=i.useRef(null),s=n?(o.current||(o.current=new window.Image),o.current):null,[l,c]=i.useState(()=>hr(s,e));return Tt(()=>{c(hr(s,e))},[s,e]),Tt(()=>{const d=u=>()=>{c(u)};if(!s)return;const f=d("loaded"),g=d("error");return s.addEventListener("load",f),s.addEventListener("error",g),r&&(s.referrerPolicy=r),typeof a=="string"&&(s.crossOrigin=a),()=>{s.removeEventListener("load",f),s.removeEventListener("error",g)}},[s,a,r]),l}var ts=Gr,rs=Hr,as=qr;function ye({className:e,...r}){return t.jsx(ts,{"data-slot":"avatar",className:B("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...r})}function Me({className:e,...r}){return t.jsx(rs,{"data-slot":"avatar-image",className:B("aspect-square size-full",e),...r})}function be({className:e,...r}){return t.jsx(as,{"data-slot":"avatar-fallback",className:B("bg-muted flex size-full items-center justify-center rounded-full",e),...r})}function ns(e,r=[]){let a=[];function n(s,l){const c=i.createContext(l),d=a.length;a=[...a,l];const f=u=>{const{scope:p,children:y,...v}=u,h=p?.[e]?.[d]||c,x=i.useMemo(()=>v,Object.values(v));return t.jsx(h.Provider,{value:x,children:y})};f.displayName=s+"Provider";function g(u,p){const y=p?.[e]?.[d]||c,v=i.useContext(y);if(v)return v;if(l!==void 0)return l;throw new Error(`\`${u}\` must be used within \`${s}\``)}return[f,g]}const o=()=>{const s=a.map(l=>i.createContext(l));return function(c){const d=c?.[e]||s;return i.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return o.scopeName=e,[n,os(o,...r)]}function os(...e){const r=e[0];if(e.length===1)return r;const a=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const l=n.reduce((c,{useScope:d,scopeName:f})=>{const u=d(s)[`__scope${f}`];return{...c,...u}},{});return i.useMemo(()=>({[`__scope${r.scopeName}`]:l}),[l])}};return a.scopeName=r.scopeName,a}function ss(e,r=[]){let a=[];function n(s,l){const c=i.createContext(l),d=a.length;a=[...a,l];const f=u=>{const{scope:p,children:y,...v}=u,h=p?.[e]?.[d]||c,x=i.useMemo(()=>v,Object.values(v));return t.jsx(h.Provider,{value:x,children:y})};f.displayName=s+"Provider";function g(u,p){const y=p?.[e]?.[d]||c,v=i.useContext(y);if(v)return v;if(l!==void 0)return l;throw new Error(`\`${u}\` must be used within \`${s}\``)}return[f,g]}const o=()=>{const s=a.map(l=>i.createContext(l));return function(c){const d=c?.[e]||s;return i.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return o.scopeName=e,[n,is(o,...r)]}function is(...e){const r=e[0];if(e.length===1)return r;const a=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const l=n.reduce((c,{useScope:d,scopeName:f})=>{const u=d(s)[`__scope${f}`];return{...c,...u}},{});return i.useMemo(()=>({[`__scope${r.scopeName}`]:l}),[l])}};return a.scopeName=r.scopeName,a}function xr(e){const r=cs(e),a=i.forwardRef((n,o)=>{const{children:s,...l}=n,c=i.Children.toArray(s),d=c.find(ds);if(d){const f=d.props.children,g=c.map(u=>u===d?i.Children.count(f)>1?i.Children.only(null):i.isValidElement(f)?f.props.children:null:u);return t.jsx(r,{...l,ref:o,children:i.isValidElement(f)?i.cloneElement(f,void 0,g):null})}return t.jsx(r,{...l,ref:o,children:s})});return a.displayName=`${e}.Slot`,a}function cs(e){const r=i.forwardRef((a,n)=>{const{children:o,...s}=a;if(i.isValidElement(o)){const l=fs(o),c=us(s,o.props);return o.type!==i.Fragment&&(c.ref=n?ce(n,l):l),i.cloneElement(o,c)}return i.Children.count(o)>1?i.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var ls=Symbol("radix.slottable");function ds(e){return i.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ls}function us(e,r){const a={...r};for(const n in r){const o=e[n],s=r[n];/^on[A-Z]/.test(n)?o&&s?a[n]=(...c)=>{const d=s(...c);return o(...c),d}:o&&(a[n]=o):n==="style"?a[n]={...o,...s}:n==="className"&&(a[n]=[o,s].filter(Boolean).join(" "))}return{...e,...a}}function fs(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=r&&"isReactWarning"in r&&r.isReactWarning;return a?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}function Yr(e){const r=e+"CollectionProvider",[a,n]=ss(r),[o,s]=a(r,{collectionRef:{current:null},itemMap:new Map}),l=h=>{const{scope:x,children:w}=h,N=pe.useRef(null),S=pe.useRef(new Map).current;return t.jsx(o,{scope:x,itemMap:S,collectionRef:N,children:w})};l.displayName=r;const c=e+"CollectionSlot",d=xr(c),f=pe.forwardRef((h,x)=>{const{scope:w,children:N}=h,S=s(c,w),_=ee(x,S.collectionRef);return t.jsx(d,{ref:_,children:N})});f.displayName=c;const g=e+"CollectionItemSlot",u="data-radix-collection-item",p=xr(g),y=pe.forwardRef((h,x)=>{const{scope:w,children:N,...S}=h,_=pe.useRef(null),T=ee(x,_),L=s(g,w);return pe.useEffect(()=>(L.itemMap.set(_,{ref:_,...S}),()=>{L.itemMap.delete(_)})),t.jsx(p,{[u]:"",ref:T,children:N})});y.displayName=g;function v(h){const x=s(e+"CollectionConsumer",h);return pe.useCallback(()=>{const N=x.collectionRef.current;if(!N)return[];const S=Array.from(N.querySelectorAll(`[${u}]`));return Array.from(x.itemMap.values()).sort((L,D)=>S.indexOf(L.ref.current)-S.indexOf(D.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:l,Slot:f,ItemSlot:y},v,n]}function gs(e,r=[]){let a=[];function n(s,l){const c=i.createContext(l),d=a.length;a=[...a,l];const f=u=>{const{scope:p,children:y,...v}=u,h=p?.[e]?.[d]||c,x=i.useMemo(()=>v,Object.values(v));return t.jsx(h.Provider,{value:x,children:y})};f.displayName=s+"Provider";function g(u,p){const y=p?.[e]?.[d]||c,v=i.useContext(y);if(v)return v;if(l!==void 0)return l;throw new Error(`\`${u}\` must be used within \`${s}\``)}return[f,g]}const o=()=>{const s=a.map(l=>i.createContext(l));return function(c){const d=c?.[e]||s;return i.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return o.scopeName=e,[n,ms(o,...r)]}function ms(...e){const r=e[0];if(e.length===1)return r;const a=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const l=n.reduce((c,{useScope:d,scopeName:f})=>{const u=d(s)[`__scope${f}`];return{...c,...u}},{});return i.useMemo(()=>({[`__scope${r.scopeName}`]:l}),[l])}};return a.scopeName=r.scopeName,a}function ps(e){const r=hs(e),a=i.forwardRef((n,o)=>{const{children:s,...l}=n,c=i.Children.toArray(s),d=c.find(vs);if(d){const f=d.props.children,g=c.map(u=>u===d?i.Children.count(f)>1?i.Children.only(null):i.isValidElement(f)?f.props.children:null:u);return t.jsx(r,{...l,ref:o,children:i.isValidElement(f)?i.cloneElement(f,void 0,g):null})}return t.jsx(r,{...l,ref:o,children:s})});return a.displayName=`${e}.Slot`,a}function hs(e){const r=i.forwardRef((a,n)=>{const{children:o,...s}=a;if(i.isValidElement(o)){const l=bs(o),c=ys(s,o.props);return o.type!==i.Fragment&&(c.ref=n?ce(n,l):l),i.cloneElement(o,c)}return i.Children.count(o)>1?i.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var xs=Symbol("radix.slottable");function vs(e){return i.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xs}function ys(e,r){const a={...r};for(const n in r){const o=e[n],s=r[n];/^on[A-Z]/.test(n)?o&&s?a[n]=(...c)=>{const d=s(...c);return o(...c),d}:o&&(a[n]=o):n==="style"?a[n]={...o,...s}:n==="className"&&(a[n]=[o,s].filter(Boolean).join(" "))}return{...e,...a}}function bs(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=r&&"isReactWarning"in r&&r.isReactWarning;return a?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}var ws=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xr=ws.reduce((e,r)=>{const a=ps(`Primitive.${r}`),n=i.forwardRef((o,s)=>{const{asChild:l,...c}=o,d=l?a:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(d,{...c,ref:s})});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{}),js=i.createContext(void 0);function Ht(e){const r=i.useContext(js);return e||r||"ltr"}var Ct="rovingFocusGroup.onEntryFocus",Ns={bubbles:!1,cancelable:!0},Ue="RovingFocusGroup",[Ut,Zr,ks]=Yr(Ue),[Cs,ft]=gs(Ue,[ks]),[Ss,_s]=Cs(Ue),Jr=i.forwardRef((e,r)=>t.jsx(Ut.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(Ut.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(Es,{...e,ref:r})})}));Jr.displayName=Ue;var Es=i.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:a,orientation:n,loop:o=!1,dir:s,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:g=!1,...u}=e,p=i.useRef(null),y=ee(r,p),v=Ht(s),[h,x]=ut({prop:l,defaultProp:c??null,onChange:d,caller:Ue}),[w,N]=i.useState(!1),S=Pe(f),_=Zr(a),T=i.useRef(!1),[L,D]=i.useState(0);return i.useEffect(()=>{const P=p.current;if(P)return P.addEventListener(Ct,S),()=>P.removeEventListener(Ct,S)},[S]),t.jsx(Ss,{scope:a,orientation:n,dir:v,loop:o,currentTabStopId:h,onItemFocus:i.useCallback(P=>x(P),[x]),onItemShiftTab:i.useCallback(()=>N(!0),[]),onFocusableItemAdd:i.useCallback(()=>D(P=>P+1),[]),onFocusableItemRemove:i.useCallback(()=>D(P=>P-1),[]),children:t.jsx(Xr.div,{tabIndex:w||L===0?-1:0,"data-orientation":n,...u,ref:y,style:{outline:"none",...e.style},onMouseDown:I(e.onMouseDown,()=>{T.current=!0}),onFocus:I(e.onFocus,P=>{const U=!T.current;if(P.target===P.currentTarget&&U&&!w){const M=new CustomEvent(Ct,Ns);if(P.currentTarget.dispatchEvent(M),!M.defaultPrevented){const b=_().filter(Z=>Z.focusable),$=b.find(Z=>Z.active),F=b.find(Z=>Z.id===h),K=[$,F,...b].filter(Boolean).map(Z=>Z.ref.current);ta(K,g)}}T.current=!1}),onBlur:I(e.onBlur,()=>N(!1))})})}),Qr="RovingFocusGroupItem",ea=i.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:a,focusable:n=!0,active:o=!1,tabStopId:s,children:l,...c}=e,d=xe(),f=s||d,g=_s(Qr,a),u=g.currentTabStopId===f,p=Zr(a),{onFocusableItemAdd:y,onFocusableItemRemove:v,currentTabStopId:h}=g;return i.useEffect(()=>{if(n)return y(),()=>v()},[n,y,v]),t.jsx(Ut.ItemSlot,{scope:a,id:f,focusable:n,active:o,children:t.jsx(Xr.span,{tabIndex:u?0:-1,"data-orientation":g.orientation,...c,ref:r,onMouseDown:I(e.onMouseDown,x=>{n?g.onItemFocus(f):x.preventDefault()}),onFocus:I(e.onFocus,()=>g.onItemFocus(f)),onKeyDown:I(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){g.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const w=Rs(x,g.orientation,g.dir);if(w!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let S=p().filter(_=>_.focusable).map(_=>_.ref.current);if(w==="last")S.reverse();else if(w==="prev"||w==="next"){w==="prev"&&S.reverse();const _=S.indexOf(x.currentTarget);S=g.loop?Is(S,_+1):S.slice(_+1)}setTimeout(()=>ta(S))}}),children:typeof l=="function"?l({isCurrentTabStop:u,hasTabStop:h!=null}):l})})});ea.displayName=Qr;var Ps={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ms(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Rs(e,r,a){const n=Ms(e.key,a);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Ps[n]}function ta(e,r=!1){const a=document.activeElement;for(const n of e)if(n===a||(n.focus({preventScroll:r}),document.activeElement!==a))return}function Is(e,r){return e.map((a,n)=>e[(r+n)%e.length])}var ra=Jr,aa=ea;function Ds(e){const r=$s(e),a=i.forwardRef((n,o)=>{const{children:s,...l}=n,c=i.Children.toArray(s),d=c.find(As);if(d){const f=d.props.children,g=c.map(u=>u===d?i.Children.count(f)>1?i.Children.only(null):i.isValidElement(f)?f.props.children:null:u);return t.jsx(r,{...l,ref:o,children:i.isValidElement(f)?i.cloneElement(f,void 0,g):null})}return t.jsx(r,{...l,ref:o,children:s})});return a.displayName=`${e}.Slot`,a}function $s(e){const r=i.forwardRef((a,n)=>{const{children:o,...s}=a;if(i.isValidElement(o)){const l=Fs(o),c=Os(s,o.props);return o.type!==i.Fragment&&(c.ref=n?ce(n,l):l),i.cloneElement(o,c)}return i.Children.count(o)>1?i.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var Ts=Symbol("radix.slottable");function As(e){return i.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ts}function Os(e,r){const a={...r};for(const n in r){const o=e[n],s=r[n];/^on[A-Z]/.test(n)?o&&s?a[n]=(...c)=>{const d=s(...c);return o(...c),d}:o&&(a[n]=o):n==="style"?a[n]={...o,...s}:n==="className"&&(a[n]=[o,s].filter(Boolean).join(" "))}return{...e,...a}}function Fs(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=r&&"isReactWarning"in r&&r.isReactWarning;return a?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}var Ls=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gt=Ls.reduce((e,r)=>{const a=Ds(`Primitive.${r}`),n=i.forwardRef((o,s)=>{const{asChild:l,...c}=o,d=l?a:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(d,{...c,ref:s})});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{}),mt="Tabs",[Us]=ns(mt,[ft]),na=ft(),[Vs,Kt]=Us(mt),oa=i.forwardRef((e,r)=>{const{__scopeTabs:a,value:n,onValueChange:o,defaultValue:s,orientation:l="horizontal",dir:c,activationMode:d="automatic",...f}=e,g=Ht(c),[u,p]=ut({prop:n,onChange:o,defaultProp:s??"",caller:mt});return t.jsx(Vs,{scope:a,baseId:xe(),value:u,onValueChange:p,orientation:l,dir:g,activationMode:d,children:t.jsx(gt.div,{dir:g,"data-orientation":l,...f,ref:r})})});oa.displayName=mt;var sa="TabsList",ia=i.forwardRef((e,r)=>{const{__scopeTabs:a,loop:n=!0,...o}=e,s=Kt(sa,a),l=na(a);return t.jsx(ra,{asChild:!0,...l,orientation:s.orientation,dir:s.dir,loop:n,children:t.jsx(gt.div,{role:"tablist","aria-orientation":s.orientation,...o,ref:r})})});ia.displayName=sa;var ca="TabsTrigger",la=i.forwardRef((e,r)=>{const{__scopeTabs:a,value:n,disabled:o=!1,...s}=e,l=Kt(ca,a),c=na(a),d=fa(l.baseId,n),f=ga(l.baseId,n),g=n===l.value;return t.jsx(aa,{asChild:!0,...c,focusable:!o,active:g,children:t.jsx(gt.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":f,"data-state":g?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:d,...s,ref:r,onMouseDown:I(e.onMouseDown,u=>{!o&&u.button===0&&u.ctrlKey===!1?l.onValueChange(n):u.preventDefault()}),onKeyDown:I(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&l.onValueChange(n)}),onFocus:I(e.onFocus,()=>{const u=l.activationMode!=="manual";!g&&!o&&u&&l.onValueChange(n)})})})});la.displayName=ca;var da="TabsContent",ua=i.forwardRef((e,r)=>{const{__scopeTabs:a,value:n,forceMount:o,children:s,...l}=e,c=Kt(da,a),d=fa(c.baseId,n),f=ga(c.baseId,n),g=n===c.value,u=i.useRef(g);return i.useEffect(()=>{const p=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(p)},[]),t.jsx(fe,{present:o||g,children:({present:p})=>t.jsx(gt.div,{"data-state":g?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!p,id:f,tabIndex:0,...l,ref:r,style:{...e.style,animationDuration:u.current?"0s":void 0},children:p&&s})})});ua.displayName=da;function fa(e,r){return`${e}-trigger-${r}`}function ga(e,r){return`${e}-content-${r}`}var Bs=oa,Ws=ia,Gs=la,zs=ua;function Hs({className:e,...r}){return t.jsx(Bs,{"data-slot":"tabs",className:B("flex flex-col gap-2",e),...r})}function Ks({className:e,...r}){return t.jsx(Ws,{"data-slot":"tabs-list",className:B("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...r})}function St({className:e,...r}){return t.jsx(Gs,{"data-slot":"tabs-trigger",className:B("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function _t({className:e,...r}){return t.jsx(zs,{"data-slot":"tabs-content",className:B("flex-1 outline-none",e),...r})}function qs(e,r=[]){let a=[];function n(s,l){const c=i.createContext(l),d=a.length;a=[...a,l];const f=u=>{const{scope:p,children:y,...v}=u,h=p?.[e]?.[d]||c,x=i.useMemo(()=>v,Object.values(v));return t.jsx(h.Provider,{value:x,children:y})};f.displayName=s+"Provider";function g(u,p){const y=p?.[e]?.[d]||c,v=i.useContext(y);if(v)return v;if(l!==void 0)return l;throw new Error(`\`${u}\` must be used within \`${s}\``)}return[f,g]}const o=()=>{const s=a.map(l=>i.createContext(l));return function(c){const d=c?.[e]||s;return i.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return o.scopeName=e,[n,Ys(o,...r)]}function Ys(...e){const r=e[0];if(e.length===1)return r;const a=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const l=n.reduce((c,{useScope:d,scopeName:f})=>{const u=d(s)[`__scope${f}`];return{...c,...u}},{});return i.useMemo(()=>({[`__scope${r.scopeName}`]:l}),[l])}};return a.scopeName=r.scopeName,a}function Xs(e){const r=Zs(e),a=i.forwardRef((n,o)=>{const{children:s,...l}=n,c=i.Children.toArray(s),d=c.find(Qs);if(d){const f=d.props.children,g=c.map(u=>u===d?i.Children.count(f)>1?i.Children.only(null):i.isValidElement(f)?f.props.children:null:u);return t.jsx(r,{...l,ref:o,children:i.isValidElement(f)?i.cloneElement(f,void 0,g):null})}return t.jsx(r,{...l,ref:o,children:s})});return a.displayName=`${e}.Slot`,a}function Zs(e){const r=i.forwardRef((a,n)=>{const{children:o,...s}=a;if(i.isValidElement(o)){const l=ti(o),c=ei(s,o.props);return o.type!==i.Fragment&&(c.ref=n?ce(n,l):l),i.cloneElement(o,c)}return i.Children.count(o)>1?i.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var Js=Symbol("radix.slottable");function Qs(e){return i.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Js}function ei(e,r){const a={...r};for(const n in r){const o=e[n],s=r[n];/^on[A-Z]/.test(n)?o&&s?a[n]=(...c)=>{const d=s(...c);return o(...c),d}:o&&(a[n]=o):n==="style"?a[n]={...o,...s}:n==="className"&&(a[n]=[o,s].filter(Boolean).join(" "))}return{...e,...a}}function ti(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=r&&"isReactWarning"in r&&r.isReactWarning;return a?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}var ri=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ai=ri.reduce((e,r)=>{const a=Xs(`Primitive.${r}`),n=i.forwardRef((o,s)=>{const{asChild:l,...c}=o,d=l?a:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(d,{...c,ref:s})});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{});function ni(e,r=[]){let a=[];function n(s,l){const c=i.createContext(l),d=a.length;a=[...a,l];const f=u=>{const{scope:p,children:y,...v}=u,h=p?.[e]?.[d]||c,x=i.useMemo(()=>v,Object.values(v));return t.jsx(h.Provider,{value:x,children:y})};f.displayName=s+"Provider";function g(u,p){const y=p?.[e]?.[d]||c,v=i.useContext(y);if(v)return v;if(l!==void 0)return l;throw new Error(`\`${u}\` must be used within \`${s}\``)}return[f,g]}const o=()=>{const s=a.map(l=>i.createContext(l));return function(c){const d=c?.[e]||s;return i.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return o.scopeName=e,[n,oi(o,...r)]}function oi(...e){const r=e[0];if(e.length===1)return r;const a=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const l=n.reduce((c,{useScope:d,scopeName:f})=>{const u=d(s)[`__scope${f}`];return{...c,...u}},{});return i.useMemo(()=>({[`__scope${r.scopeName}`]:l}),[l])}};return a.scopeName=r.scopeName,a}var Et=0;function ma(){i.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??vr()),document.body.insertAdjacentElement("beforeend",e[1]??vr()),Et++,()=>{Et===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Et--}},[])}function vr(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function si(e){const r=ii(e),a=i.forwardRef((n,o)=>{const{children:s,...l}=n,c=i.Children.toArray(s),d=c.find(li);if(d){const f=d.props.children,g=c.map(u=>u===d?i.Children.count(f)>1?i.Children.only(null):i.isValidElement(f)?f.props.children:null:u);return t.jsx(r,{...l,ref:o,children:i.isValidElement(f)?i.cloneElement(f,void 0,g):null})}return t.jsx(r,{...l,ref:o,children:s})});return a.displayName=`${e}.Slot`,a}function ii(e){const r=i.forwardRef((a,n)=>{const{children:o,...s}=a;if(i.isValidElement(o)){const l=ui(o),c=di(s,o.props);return o.type!==i.Fragment&&(c.ref=n?ce(n,l):l),i.cloneElement(o,c)}return i.Children.count(o)>1?i.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var ci=Symbol("radix.slottable");function li(e){return i.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ci}function di(e,r){const a={...r};for(const n in r){const o=e[n],s=r[n];/^on[A-Z]/.test(n)?o&&s?a[n]=(...c)=>{const d=s(...c);return o(...c),d}:o&&(a[n]=o):n==="style"?a[n]={...o,...s}:n==="className"&&(a[n]=[o,s].filter(Boolean).join(" "))}return{...e,...a}}function ui(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=r&&"isReactWarning"in r&&r.isReactWarning;return a?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}var fi=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gi=fi.reduce((e,r)=>{const a=si(`Primitive.${r}`),n=i.forwardRef((o,s)=>{const{asChild:l,...c}=o,d=l?a:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(d,{...c,ref:s})});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{}),Pt="focusScope.autoFocusOnMount",Mt="focusScope.autoFocusOnUnmount",yr={bubbles:!1,cancelable:!0},mi="FocusScope",qt=i.forwardRef((e,r)=>{const{loop:a=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...l}=e,[c,d]=i.useState(null),f=Pe(o),g=Pe(s),u=i.useRef(null),p=ee(r,h=>d(h)),y=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(n){let h=function(S){if(y.paused||!c)return;const _=S.target;c.contains(_)?u.current=_:le(u.current,{select:!0})},x=function(S){if(y.paused||!c)return;const _=S.relatedTarget;_!==null&&(c.contains(_)||le(u.current,{select:!0}))},w=function(S){if(document.activeElement===document.body)for(const T of S)T.removedNodes.length>0&&le(c)};document.addEventListener("focusin",h),document.addEventListener("focusout",x);const N=new MutationObserver(w);return c&&N.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",x),N.disconnect()}}},[n,c,y.paused]),i.useEffect(()=>{if(c){wr.add(y);const h=document.activeElement;if(!c.contains(h)){const w=new CustomEvent(Pt,yr);c.addEventListener(Pt,f),c.dispatchEvent(w),w.defaultPrevented||(pi(bi(pa(c)),{select:!0}),document.activeElement===h&&le(c))}return()=>{c.removeEventListener(Pt,f),setTimeout(()=>{const w=new CustomEvent(Mt,yr);c.addEventListener(Mt,g),c.dispatchEvent(w),w.defaultPrevented||le(h??document.body,{select:!0}),c.removeEventListener(Mt,g),wr.remove(y)},0)}}},[c,f,g,y]);const v=i.useCallback(h=>{if(!a&&!n||y.paused)return;const x=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,w=document.activeElement;if(x&&w){const N=h.currentTarget,[S,_]=hi(N);S&&_?!h.shiftKey&&w===_?(h.preventDefault(),a&&le(S,{select:!0})):h.shiftKey&&w===S&&(h.preventDefault(),a&&le(_,{select:!0})):w===N&&h.preventDefault()}},[a,n,y.paused]);return t.jsx(gi.div,{tabIndex:-1,...l,ref:p,onKeyDown:v})});qt.displayName=mi;function pi(e,{select:r=!1}={}){const a=document.activeElement;for(const n of e)if(le(n,{select:r}),document.activeElement!==a)return}function hi(e){const r=pa(e),a=br(r,e),n=br(r.reverse(),e);return[a,n]}function pa(e){const r=[],a=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)r.push(a.currentNode);return r}function br(e,r){for(const a of e)if(!xi(a,{upTo:r}))return a}function xi(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function vi(e){return e instanceof HTMLInputElement&&"select"in e}function le(e,{select:r=!1}={}){if(e&&e.focus){const a=document.activeElement;e.focus({preventScroll:!0}),e!==a&&vi(e)&&r&&e.select()}}var wr=yi();function yi(){let e=[];return{add(r){const a=e[0];r!==a&&a?.pause(),e=jr(e,r),e.unshift(r)},remove(r){e=jr(e,r),e[0]?.resume()}}}function jr(e,r){const a=[...e],n=a.indexOf(r);return n!==-1&&a.splice(n,1),a}function bi(e){return e.filter(r=>r.tagName!=="A")}function ha(e){const r=wi(e),a=i.forwardRef((n,o)=>{const{children:s,...l}=n,c=i.Children.toArray(s),d=c.find(Ni);if(d){const f=d.props.children,g=c.map(u=>u===d?i.Children.count(f)>1?i.Children.only(null):i.isValidElement(f)?f.props.children:null:u);return t.jsx(r,{...l,ref:o,children:i.isValidElement(f)?i.cloneElement(f,void 0,g):null})}return t.jsx(r,{...l,ref:o,children:s})});return a.displayName=`${e}.Slot`,a}function wi(e){const r=i.forwardRef((a,n)=>{const{children:o,...s}=a;if(i.isValidElement(o)){const l=Ci(o),c=ki(s,o.props);return o.type!==i.Fragment&&(c.ref=n?ce(n,l):l),i.cloneElement(o,c)}return i.Children.count(o)>1?i.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var ji=Symbol("radix.slottable");function Ni(e){return i.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ji}function ki(e,r){const a={...r};for(const n in r){const o=e[n],s=r[n];/^on[A-Z]/.test(n)?o&&s?a[n]=(...c)=>{const d=s(...c);return o(...c),d}:o&&(a[n]=o):n==="style"?a[n]={...o,...s}:n==="className"&&(a[n]=[o,s].filter(Boolean).join(" "))}return{...e,...a}}function Ci(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=r&&"isReactWarning"in r&&r.isReactWarning;return a?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}var Si=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ve=Si.reduce((e,r)=>{const a=ha(`Primitive.${r}`),n=i.forwardRef((o,s)=>{const{asChild:l,...c}=o,d=l?a:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(d,{...c,ref:s})});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{});function _i(e,r){e&&zn.flushSync(()=>e.dispatchEvent(r))}var Ei=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},Ce=new WeakMap,He=new WeakMap,Ke={},Rt=0,xa=function(e){return e&&(e.host||xa(e.parentNode))},Pi=function(e,r){return r.map(function(a){if(e.contains(a))return a;var n=xa(a);return n&&e.contains(n)?n:(console.error("aria-hidden",a,"in not contained inside",e,". Doing nothing"),null)}).filter(function(a){return!!a})},Mi=function(e,r,a,n){var o=Pi(r,Array.isArray(e)?e:[e]);Ke[a]||(Ke[a]=new WeakMap);var s=Ke[a],l=[],c=new Set,d=new Set(o),f=function(u){!u||c.has(u)||(c.add(u),f(u.parentNode))};o.forEach(f);var g=function(u){!u||d.has(u)||Array.prototype.forEach.call(u.children,function(p){if(c.has(p))g(p);else try{var y=p.getAttribute(n),v=y!==null&&y!=="false",h=(Ce.get(p)||0)+1,x=(s.get(p)||0)+1;Ce.set(p,h),s.set(p,x),l.push(p),h===1&&v&&He.set(p,!0),x===1&&p.setAttribute(a,"true"),v||p.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return g(r),c.clear(),Rt++,function(){l.forEach(function(u){var p=Ce.get(u)-1,y=s.get(u)-1;Ce.set(u,p),s.set(u,y),p||(He.has(u)||u.removeAttribute(n),He.delete(u)),y||u.removeAttribute(a)}),Rt--,Rt||(Ce=new WeakMap,Ce=new WeakMap,He=new WeakMap,Ke={})}},va=function(e,r,a){a===void 0&&(a="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=Ei(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),Mi(n,o,a,"aria-hidden")):function(){return null}},nt="right-scroll-bar-position",ot="width-before-scroll-bar",Ri="with-scroll-bars-hidden",Ii="--removed-body-scroll-bar-size";function It(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function Di(e,r){var a=i.useState(function(){return{value:e,callback:r,facade:{get current(){return a.value},set current(n){var o=a.value;o!==n&&(a.value=n,a.callback(n,o))}}}})[0];return a.callback=r,a.facade}var $i=typeof window<"u"?i.useLayoutEffect:i.useEffect,Nr=new WeakMap;function Ti(e,r){var a=Di(null,function(n){return e.forEach(function(o){return It(o,n)})});return $i(function(){var n=Nr.get(a);if(n){var o=new Set(n),s=new Set(e),l=a.current;o.forEach(function(c){s.has(c)||It(c,null)}),s.forEach(function(c){o.has(c)||It(c,l)})}Nr.set(a,e)},[e]),a}function Ai(e){return e}function Oi(e,r){r===void 0&&(r=Ai);var a=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:e},useMedium:function(s){var l=r(s,n);return a.push(l),function(){a=a.filter(function(c){return c!==l})}},assignSyncMedium:function(s){for(n=!0;a.length;){var l=a;a=[],l.forEach(s)}a={push:function(c){return s(c)},filter:function(){return a}}},assignMedium:function(s){n=!0;var l=[];if(a.length){var c=a;a=[],c.forEach(s),l=a}var d=function(){var g=l;l=[],g.forEach(s)},f=function(){return Promise.resolve().then(d)};f(),a={push:function(g){l.push(g),f()},filter:function(g){return l=l.filter(g),a}}}};return o}function Fi(e){e===void 0&&(e={});var r=Oi(null);return r.options=de({async:!0,ssr:!1},e),r}var ya=function(e){var r=e.sideCar,a=Mr(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=r.read();if(!n)throw new Error("Sidecar medium not found");return i.createElement(n,de({},a))};ya.isSideCarExport=!0;function Li(e,r){return e.useMedium(r),ya}var ba=Fi(),Dt=function(){},pt=i.forwardRef(function(e,r){var a=i.useRef(null),n=i.useState({onScrollCapture:Dt,onWheelCapture:Dt,onTouchMoveCapture:Dt}),o=n[0],s=n[1],l=e.forwardProps,c=e.children,d=e.className,f=e.removeScrollBar,g=e.enabled,u=e.shards,p=e.sideCar,y=e.noRelative,v=e.noIsolation,h=e.inert,x=e.allowPinchZoom,w=e.as,N=w===void 0?"div":w,S=e.gapMode,_=Mr(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=p,L=Ti([a,r]),D=de(de({},_),o);return i.createElement(i.Fragment,null,g&&i.createElement(T,{sideCar:ba,removeScrollBar:f,shards:u,noRelative:y,noIsolation:v,inert:h,setCallbacks:s,allowPinchZoom:!!x,lockRef:a,gapMode:S}),l?i.cloneElement(i.Children.only(c),de(de({},D),{ref:L})):i.createElement(N,de({},D,{className:d,ref:L}),c))});pt.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pt.classNames={fullWidth:ot,zeroRight:nt};var Ui=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Vi(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=Ui();return r&&e.setAttribute("nonce",r),e}function Bi(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function Wi(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var Gi=function(){var e=0,r=null;return{add:function(a){e==0&&(r=Vi())&&(Bi(r,a),Wi(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},zi=function(){var e=Gi();return function(r,a){i.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&a])}},wa=function(){var e=zi(),r=function(a){var n=a.styles,o=a.dynamic;return e(n,o),null};return r},Hi={left:0,top:0,right:0,gap:0},$t=function(e){return parseInt(e||"",10)||0},Ki=function(e){var r=window.getComputedStyle(document.body),a=r[e==="padding"?"paddingLeft":"marginLeft"],n=r[e==="padding"?"paddingTop":"marginTop"],o=r[e==="padding"?"paddingRight":"marginRight"];return[$t(a),$t(n),$t(o)]},qi=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Hi;var r=Ki(e),a=document.documentElement.clientWidth,n=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,n-a+r[2]-r[0])}},Yi=wa(),Ee="data-scroll-locked",Xi=function(e,r,a,n){var o=e.left,s=e.top,l=e.right,c=e.gap;return a===void 0&&(a="margin"),`
  .`.concat(Ri,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(Ee,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(n,";"),a==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),a==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nt,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(ot,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(nt," .").concat(nt,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ot," .").concat(ot,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ee,`] {
    `).concat(Ii,": ").concat(c,`px;
  }
`)},kr=function(){var e=parseInt(document.body.getAttribute(Ee)||"0",10);return isFinite(e)?e:0},Zi=function(){i.useEffect(function(){return document.body.setAttribute(Ee,(kr()+1).toString()),function(){var e=kr()-1;e<=0?document.body.removeAttribute(Ee):document.body.setAttribute(Ee,e.toString())}},[])},Ji=function(e){var r=e.noRelative,a=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;Zi();var s=i.useMemo(function(){return qi(o)},[o]);return i.createElement(Yi,{styles:Xi(s,!r,o,a?"":"!important")})},Vt=!1;if(typeof window<"u")try{var qe=Object.defineProperty({},"passive",{get:function(){return Vt=!0,!0}});window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch{Vt=!1}var Se=Vt?{passive:!1}:!1,Qi=function(e){return e.tagName==="TEXTAREA"},ja=function(e,r){if(!(e instanceof Element))return!1;var a=window.getComputedStyle(e);return a[r]!=="hidden"&&!(a.overflowY===a.overflowX&&!Qi(e)&&a[r]==="visible")},ec=function(e){return ja(e,"overflowY")},tc=function(e){return ja(e,"overflowX")},Cr=function(e,r){var a=r.ownerDocument,n=r;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=Na(e,n);if(o){var s=ka(e,n),l=s[1],c=s[2];if(l>c)return!0}n=n.parentNode}while(n&&n!==a.body);return!1},rc=function(e){var r=e.scrollTop,a=e.scrollHeight,n=e.clientHeight;return[r,a,n]},ac=function(e){var r=e.scrollLeft,a=e.scrollWidth,n=e.clientWidth;return[r,a,n]},Na=function(e,r){return e==="v"?ec(r):tc(r)},ka=function(e,r){return e==="v"?rc(r):ac(r)},nc=function(e,r){return e==="h"&&r==="rtl"?-1:1},oc=function(e,r,a,n,o){var s=nc(e,window.getComputedStyle(r).direction),l=s*n,c=a.target,d=r.contains(c),f=!1,g=l>0,u=0,p=0;do{if(!c)break;var y=ka(e,c),v=y[0],h=y[1],x=y[2],w=h-x-s*v;(v||w)&&Na(e,c)&&(u+=w,p+=v);var N=c.parentNode;c=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!d&&c!==document.body||d&&(r.contains(c)||r===c));return(g&&Math.abs(u)<1||!g&&Math.abs(p)<1)&&(f=!0),f},Ye=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Sr=function(e){return[e.deltaX,e.deltaY]},_r=function(e){return e&&"current"in e?e.current:e},sc=function(e,r){return e[0]===r[0]&&e[1]===r[1]},ic=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},cc=0,_e=[];function lc(e){var r=i.useRef([]),a=i.useRef([0,0]),n=i.useRef(),o=i.useState(cc++)[0],s=i.useState(wa)[0],l=i.useRef(e);i.useEffect(function(){l.current=e},[e]),i.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var h=Tn([e.lockRef.current],(e.shards||[]).map(_r),!0).filter(Boolean);return h.forEach(function(x){return x.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),h.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var c=i.useCallback(function(h,x){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!l.current.allowPinchZoom;var w=Ye(h),N=a.current,S="deltaX"in h?h.deltaX:N[0]-w[0],_="deltaY"in h?h.deltaY:N[1]-w[1],T,L=h.target,D=Math.abs(S)>Math.abs(_)?"h":"v";if("touches"in h&&D==="h"&&L.type==="range")return!1;var P=window.getSelection(),U=P&&P.anchorNode,M=U?U===L||U.contains(L):!1;if(M)return!1;var b=Cr(D,L);if(!b)return!0;if(b?T=D:(T=D==="v"?"h":"v",b=Cr(D,L)),!b)return!1;if(!n.current&&"changedTouches"in h&&(S||_)&&(n.current=T),!T)return!0;var $=n.current||T;return oc($,x,h,$==="h"?S:_)},[]),d=i.useCallback(function(h){var x=h;if(!(!_e.length||_e[_e.length-1]!==s)){var w="deltaY"in x?Sr(x):Ye(x),N=r.current.filter(function(T){return T.name===x.type&&(T.target===x.target||x.target===T.shadowParent)&&sc(T.delta,w)})[0];if(N&&N.should){x.cancelable&&x.preventDefault();return}if(!N){var S=(l.current.shards||[]).map(_r).filter(Boolean).filter(function(T){return T.contains(x.target)}),_=S.length>0?c(x,S[0]):!l.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),f=i.useCallback(function(h,x,w,N){var S={name:h,delta:x,target:w,should:N,shadowParent:dc(w)};r.current.push(S),setTimeout(function(){r.current=r.current.filter(function(_){return _!==S})},1)},[]),g=i.useCallback(function(h){a.current=Ye(h),n.current=void 0},[]),u=i.useCallback(function(h){f(h.type,Sr(h),h.target,c(h,e.lockRef.current))},[]),p=i.useCallback(function(h){f(h.type,Ye(h),h.target,c(h,e.lockRef.current))},[]);i.useEffect(function(){return _e.push(s),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:p}),document.addEventListener("wheel",d,Se),document.addEventListener("touchmove",d,Se),document.addEventListener("touchstart",g,Se),function(){_e=_e.filter(function(h){return h!==s}),document.removeEventListener("wheel",d,Se),document.removeEventListener("touchmove",d,Se),document.removeEventListener("touchstart",g,Se)}},[]);var y=e.removeScrollBar,v=e.inert;return i.createElement(i.Fragment,null,v?i.createElement(s,{styles:ic(o)}):null,y?i.createElement(Ji,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function dc(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const uc=Li(ba,lc);var Yt=i.forwardRef(function(e,r){return i.createElement(pt,de({},e,{ref:r,sideCar:uc}))});Yt.classNames=pt.classNames;var Bt=["Enter"," "],fc=["ArrowDown","PageUp","Home"],Ca=["ArrowUp","PageDown","End"],gc=[...fc,...Ca],mc={ltr:[...Bt,"ArrowRight"],rtl:[...Bt,"ArrowLeft"]},pc={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Be="Menu",[Fe,hc,xc]=Yr(Be),[je,Sa]=ni(Be,[xc,Rr,ft]),ht=Rr(),_a=ft(),[vc,Ne]=je(Be),[yc,We]=je(Be),Ea=e=>{const{__scopeMenu:r,open:a=!1,children:n,dir:o,onOpenChange:s,modal:l=!0}=e,c=ht(r),[d,f]=i.useState(null),g=i.useRef(!1),u=Pe(s),p=Ht(o);return i.useEffect(()=>{const y=()=>{g.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>g.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),t.jsx(Vn,{...c,children:t.jsx(vc,{scope:r,open:a,onOpenChange:u,content:d,onContentChange:f,children:t.jsx(yc,{scope:r,onClose:i.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:g,dir:p,modal:l,children:n})})})};Ea.displayName=Be;var bc="MenuAnchor",Xt=i.forwardRef((e,r)=>{const{__scopeMenu:a,...n}=e,o=ht(a);return t.jsx(Bn,{...o,...n,ref:r})});Xt.displayName=bc;var Zt="MenuPortal",[wc,Pa]=je(Zt,{forceMount:void 0}),Ma=e=>{const{__scopeMenu:r,forceMount:a,children:n,container:o}=e,s=Ne(Zt,r);return t.jsx(wc,{scope:r,forceMount:a,children:t.jsx(fe,{present:a||s.open,children:t.jsx(Ir,{asChild:!0,container:o,children:n})})})};Ma.displayName=Zt;var Q="MenuContent",[jc,Jt]=je(Q),Ra=i.forwardRef((e,r)=>{const a=Pa(Q,e.__scopeMenu),{forceMount:n=a.forceMount,...o}=e,s=Ne(Q,e.__scopeMenu),l=We(Q,e.__scopeMenu);return t.jsx(Fe.Provider,{scope:e.__scopeMenu,children:t.jsx(fe,{present:n||s.open,children:t.jsx(Fe.Slot,{scope:e.__scopeMenu,children:l.modal?t.jsx(Nc,{...o,ref:r}):t.jsx(kc,{...o,ref:r})})})})}),Nc=i.forwardRef((e,r)=>{const a=Ne(Q,e.__scopeMenu),n=i.useRef(null),o=ee(r,n);return i.useEffect(()=>{const s=n.current;if(s)return va(s)},[]),t.jsx(Qt,{...e,ref:o,trapFocus:a.open,disableOutsidePointerEvents:a.open,disableOutsideScroll:!0,onFocusOutside:I(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>a.onOpenChange(!1)})}),kc=i.forwardRef((e,r)=>{const a=Ne(Q,e.__scopeMenu);return t.jsx(Qt,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>a.onOpenChange(!1)})}),Cc=ha("MenuContent.ScrollLock"),Qt=i.forwardRef((e,r)=>{const{__scopeMenu:a,loop:n=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:u,onInteractOutside:p,onDismiss:y,disableOutsideScroll:v,...h}=e,x=Ne(Q,a),w=We(Q,a),N=ht(a),S=_a(a),_=hc(a),[T,L]=i.useState(null),D=i.useRef(null),P=ee(r,D,x.onContentChange),U=i.useRef(0),M=i.useRef(""),b=i.useRef(0),$=i.useRef(null),F=i.useRef("right"),G=i.useRef(0),K=v?Yt:i.Fragment,Z=v?{as:Cc,allowPinchZoom:!0}:void 0,ge=E=>{const te=M.current+E,W=_().filter(z=>!z.disabled),re=document.activeElement,ae=W.find(z=>z.ref.current===re)?.textValue,ke=W.map(z=>z.textValue),Re=Oc(ke,te,ae),ne=W.find(z=>z.textValue===Re)?.ref.current;(function z(ze){M.current=ze,window.clearTimeout(U.current),ze!==""&&(U.current=window.setTimeout(()=>z(""),1e3))})(te),ne&&setTimeout(()=>ne.focus())};i.useEffect(()=>()=>window.clearTimeout(U.current),[]),ma();const J=i.useCallback(E=>F.current===$.current?.side&&Lc(E,$.current?.area),[]);return t.jsx(jc,{scope:a,searchRef:M,onItemEnter:i.useCallback(E=>{J(E)&&E.preventDefault()},[J]),onItemLeave:i.useCallback(E=>{J(E)||(D.current?.focus(),L(null))},[J]),onTriggerLeave:i.useCallback(E=>{J(E)&&E.preventDefault()},[J]),pointerGraceTimerRef:b,onPointerGraceIntentChange:i.useCallback(E=>{$.current=E},[]),children:t.jsx(K,{...Z,children:t.jsx(qt,{asChild:!0,trapped:o,onMountAutoFocus:I(s,E=>{E.preventDefault(),D.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:t.jsx(Dr,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:u,onInteractOutside:p,onDismiss:y,children:t.jsx(ra,{asChild:!0,...S,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:T,onCurrentTabStopIdChange:L,onEntryFocus:I(d,E=>{w.isUsingKeyboardRef.current||E.preventDefault()}),preventScrollOnEntryFocus:!0,children:t.jsx(Wn,{role:"menu","aria-orientation":"vertical","data-state":Ka(x.open),"data-radix-menu-content":"",dir:w.dir,...N,...h,ref:P,style:{outline:"none",...h.style},onKeyDown:I(h.onKeyDown,E=>{const W=E.target.closest("[data-radix-menu-content]")===E.currentTarget,re=E.ctrlKey||E.altKey||E.metaKey,ae=E.key.length===1;W&&(E.key==="Tab"&&E.preventDefault(),!re&&ae&&ge(E.key));const ke=D.current;if(E.target!==ke||!gc.includes(E.key))return;E.preventDefault();const ne=_().filter(z=>!z.disabled).map(z=>z.ref.current);Ca.includes(E.key)&&ne.reverse(),Tc(ne)}),onBlur:I(e.onBlur,E=>{E.currentTarget.contains(E.target)||(window.clearTimeout(U.current),M.current="")}),onPointerMove:I(e.onPointerMove,Le(E=>{const te=E.target,W=G.current!==E.clientX;if(E.currentTarget.contains(te)&&W){const re=E.clientX>G.current?"right":"left";F.current=re,G.current=E.clientX}}))})})})})})})});Ra.displayName=Q;var Sc="MenuGroup",er=i.forwardRef((e,r)=>{const{__scopeMenu:a,...n}=e;return t.jsx(Ve.div,{role:"group",...n,ref:r})});er.displayName=Sc;var _c="MenuLabel",Ia=i.forwardRef((e,r)=>{const{__scopeMenu:a,...n}=e;return t.jsx(Ve.div,{...n,ref:r})});Ia.displayName=_c;var it="MenuItem",Er="menu.itemSelect",xt=i.forwardRef((e,r)=>{const{disabled:a=!1,onSelect:n,...o}=e,s=i.useRef(null),l=We(it,e.__scopeMenu),c=Jt(it,e.__scopeMenu),d=ee(r,s),f=i.useRef(!1),g=()=>{const u=s.current;if(!a&&u){const p=new CustomEvent(Er,{bubbles:!0,cancelable:!0});u.addEventListener(Er,y=>n?.(y),{once:!0}),_i(u,p),p.defaultPrevented?f.current=!1:l.onClose()}};return t.jsx(Da,{...o,ref:d,disabled:a,onClick:I(e.onClick,g),onPointerDown:u=>{e.onPointerDown?.(u),f.current=!0},onPointerUp:I(e.onPointerUp,u=>{f.current||u.currentTarget?.click()}),onKeyDown:I(e.onKeyDown,u=>{const p=c.searchRef.current!=="";a||p&&u.key===" "||Bt.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});xt.displayName=it;var Da=i.forwardRef((e,r)=>{const{__scopeMenu:a,disabled:n=!1,textValue:o,...s}=e,l=Jt(it,a),c=_a(a),d=i.useRef(null),f=ee(r,d),[g,u]=i.useState(!1),[p,y]=i.useState("");return i.useEffect(()=>{const v=d.current;v&&y((v.textContent??"").trim())},[s.children]),t.jsx(Fe.ItemSlot,{scope:a,disabled:n,textValue:o??p,children:t.jsx(aa,{asChild:!0,...c,focusable:!n,children:t.jsx(Ve.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:f,onPointerMove:I(e.onPointerMove,Le(v=>{n?l.onItemLeave(v):(l.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:I(e.onPointerLeave,Le(v=>l.onItemLeave(v))),onFocus:I(e.onFocus,()=>u(!0)),onBlur:I(e.onBlur,()=>u(!1))})})})}),Ec="MenuCheckboxItem",$a=i.forwardRef((e,r)=>{const{checked:a=!1,onCheckedChange:n,...o}=e;return t.jsx(La,{scope:e.__scopeMenu,checked:a,children:t.jsx(xt,{role:"menuitemcheckbox","aria-checked":ct(a)?"mixed":a,...o,ref:r,"data-state":rr(a),onSelect:I(o.onSelect,()=>n?.(ct(a)?!0:!a),{checkForDefaultPrevented:!1})})})});$a.displayName=Ec;var Ta="MenuRadioGroup",[Pc,Mc]=je(Ta,{value:void 0,onValueChange:()=>{}}),Aa=i.forwardRef((e,r)=>{const{value:a,onValueChange:n,...o}=e,s=Pe(n);return t.jsx(Pc,{scope:e.__scopeMenu,value:a,onValueChange:s,children:t.jsx(er,{...o,ref:r})})});Aa.displayName=Ta;var Oa="MenuRadioItem",Fa=i.forwardRef((e,r)=>{const{value:a,...n}=e,o=Mc(Oa,e.__scopeMenu),s=a===o.value;return t.jsx(La,{scope:e.__scopeMenu,checked:s,children:t.jsx(xt,{role:"menuitemradio","aria-checked":s,...n,ref:r,"data-state":rr(s),onSelect:I(n.onSelect,()=>o.onValueChange?.(a),{checkForDefaultPrevented:!1})})})});Fa.displayName=Oa;var tr="MenuItemIndicator",[La,Rc]=je(tr,{checked:!1}),Ua=i.forwardRef((e,r)=>{const{__scopeMenu:a,forceMount:n,...o}=e,s=Rc(tr,a);return t.jsx(fe,{present:n||ct(s.checked)||s.checked===!0,children:t.jsx(Ve.span,{...o,ref:r,"data-state":rr(s.checked)})})});Ua.displayName=tr;var Ic="MenuSeparator",Va=i.forwardRef((e,r)=>{const{__scopeMenu:a,...n}=e;return t.jsx(Ve.div,{role:"separator","aria-orientation":"horizontal",...n,ref:r})});Va.displayName=Ic;var Dc="MenuArrow",Ba=i.forwardRef((e,r)=>{const{__scopeMenu:a,...n}=e,o=ht(a);return t.jsx(Gn,{...o,...n,ref:r})});Ba.displayName=Dc;var $c="MenuSub",[jd,Wa]=je($c),Te="MenuSubTrigger",Ga=i.forwardRef((e,r)=>{const a=Ne(Te,e.__scopeMenu),n=We(Te,e.__scopeMenu),o=Wa(Te,e.__scopeMenu),s=Jt(Te,e.__scopeMenu),l=i.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=s,f={__scopeMenu:e.__scopeMenu},g=i.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return i.useEffect(()=>g,[g]),i.useEffect(()=>{const u=c.current;return()=>{window.clearTimeout(u),d(null)}},[c,d]),t.jsx(Xt,{asChild:!0,...f,children:t.jsx(Da,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":o.contentId,"data-state":Ka(a.open),...e,ref:ce(r,o.onTriggerChange),onClick:u=>{e.onClick?.(u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),a.open||a.onOpenChange(!0))},onPointerMove:I(e.onPointerMove,Le(u=>{s.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!a.open&&!l.current&&(s.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{a.onOpenChange(!0),g()},100))})),onPointerLeave:I(e.onPointerLeave,Le(u=>{g();const p=a.content?.getBoundingClientRect();if(p){const y=a.content?.dataset.side,v=y==="right",h=v?-5:5,x=p[v?"left":"right"],w=p[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:u.clientX+h,y:u.clientY},{x,y:p.top},{x:w,y:p.top},{x:w,y:p.bottom},{x,y:p.bottom}],side:y}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(u),u.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:I(e.onKeyDown,u=>{const p=s.searchRef.current!=="";e.disabled||p&&u.key===" "||mc[n.dir].includes(u.key)&&(a.onOpenChange(!0),a.content?.focus(),u.preventDefault())})})})});Ga.displayName=Te;var za="MenuSubContent",Ha=i.forwardRef((e,r)=>{const a=Pa(Q,e.__scopeMenu),{forceMount:n=a.forceMount,...o}=e,s=Ne(Q,e.__scopeMenu),l=We(Q,e.__scopeMenu),c=Wa(za,e.__scopeMenu),d=i.useRef(null),f=ee(r,d);return t.jsx(Fe.Provider,{scope:e.__scopeMenu,children:t.jsx(fe,{present:n||s.open,children:t.jsx(Fe.Slot,{scope:e.__scopeMenu,children:t.jsx(Qt,{id:c.contentId,"aria-labelledby":c.triggerId,...o,ref:f,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{l.isUsingKeyboardRef.current&&d.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:I(e.onFocusOutside,g=>{g.target!==c.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:I(e.onEscapeKeyDown,g=>{l.onClose(),g.preventDefault()}),onKeyDown:I(e.onKeyDown,g=>{const u=g.currentTarget.contains(g.target),p=pc[l.dir].includes(g.key);u&&p&&(s.onOpenChange(!1),c.trigger?.focus(),g.preventDefault())})})})})})});Ha.displayName=za;function Ka(e){return e?"open":"closed"}function ct(e){return e==="indeterminate"}function rr(e){return ct(e)?"indeterminate":e?"checked":"unchecked"}function Tc(e){const r=document.activeElement;for(const a of e)if(a===r||(a.focus(),document.activeElement!==r))return}function Ac(e,r){return e.map((a,n)=>e[(r+n)%e.length])}function Oc(e,r,a){const o=r.length>1&&Array.from(r).every(f=>f===r[0])?r[0]:r,s=a?e.indexOf(a):-1;let l=Ac(e,Math.max(s,0));o.length===1&&(l=l.filter(f=>f!==a));const d=l.find(f=>f.toLowerCase().startsWith(o.toLowerCase()));return d!==a?d:void 0}function Fc(e,r){const{x:a,y:n}=e;let o=!1;for(let s=0,l=r.length-1;s<r.length;l=s++){const c=r[s],d=r[l],f=c.x,g=c.y,u=d.x,p=d.y;g>n!=p>n&&a<(u-f)*(n-g)/(p-g)+f&&(o=!o)}return o}function Lc(e,r){if(!r)return!1;const a={x:e.clientX,y:e.clientY};return Fc(a,r)}function Le(e){return r=>r.pointerType==="mouse"?e(r):void 0}var Uc=Ea,Vc=Xt,Bc=Ma,Wc=Ra,Gc=er,zc=Ia,Hc=xt,Kc=$a,qc=Aa,Yc=Fa,Xc=Ua,Zc=Va,Jc=Ba,Qc=Ga,el=Ha,vt="DropdownMenu",[tl]=qs(vt,[Sa]),X=Sa(),[rl,qa]=tl(vt),Ya=e=>{const{__scopeDropdownMenu:r,children:a,dir:n,open:o,defaultOpen:s,onOpenChange:l,modal:c=!0}=e,d=X(r),f=i.useRef(null),[g,u]=ut({prop:o,defaultProp:s??!1,onChange:l,caller:vt});return t.jsx(rl,{scope:r,triggerId:xe(),triggerRef:f,contentId:xe(),open:g,onOpenChange:u,onOpenToggle:i.useCallback(()=>u(p=>!p),[u]),modal:c,children:t.jsx(Uc,{...d,open:g,onOpenChange:u,dir:n,modal:c,children:a})})};Ya.displayName=vt;var Xa="DropdownMenuTrigger",Za=i.forwardRef((e,r)=>{const{__scopeDropdownMenu:a,disabled:n=!1,...o}=e,s=qa(Xa,a),l=X(a);return t.jsx(Vc,{asChild:!0,...l,children:t.jsx(ai.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:ce(r,s.triggerRef),onPointerDown:I(e.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(s.onOpenToggle(),s.open||c.preventDefault())}),onKeyDown:I(e.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&s.onOpenToggle(),c.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});Za.displayName=Xa;var al="DropdownMenuPortal",Ja=e=>{const{__scopeDropdownMenu:r,...a}=e,n=X(r);return t.jsx(Bc,{...n,...a})};Ja.displayName=al;var Qa="DropdownMenuContent",en=i.forwardRef((e,r)=>{const{__scopeDropdownMenu:a,...n}=e,o=qa(Qa,a),s=X(a),l=i.useRef(!1);return t.jsx(Wc,{id:o.contentId,"aria-labelledby":o.triggerId,...s,...n,ref:r,onCloseAutoFocus:I(e.onCloseAutoFocus,c=>{l.current||o.triggerRef.current?.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:I(e.onInteractOutside,c=>{const d=c.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,g=d.button===2||f;(!o.modal||g)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});en.displayName=Qa;var nl="DropdownMenuGroup",ol=i.forwardRef((e,r)=>{const{__scopeDropdownMenu:a,...n}=e,o=X(a);return t.jsx(Gc,{...o,...n,ref:r})});ol.displayName=nl;var sl="DropdownMenuLabel",tn=i.forwardRef((e,r)=>{const{__scopeDropdownMenu:a,...n}=e,o=X(a);return t.jsx(zc,{...o,...n,ref:r})});tn.displayName=sl;var il="DropdownMenuItem",rn=i.forwardRef((e,r)=>{const{__scopeDropdownMenu:a,...n}=e,o=X(a);return t.jsx(Hc,{...o,...n,ref:r})});rn.displayName=il;var cl="DropdownMenuCheckboxItem",ll=i.forwardRef((e,r)=>{const{__scopeDropdownMenu:a,...n}=e,o=X(a);return t.jsx(Kc,{...o,...n,ref:r})});ll.displayName=cl;var dl="DropdownMenuRadioGroup",ul=i.forwardRef((e,r)=>{const{__scopeDropdownMenu:a,...n}=e,o=X(a);return t.jsx(qc,{...o,...n,ref:r})});ul.displayName=dl;var fl="DropdownMenuRadioItem",gl=i.forwardRef((e,r)=>{const{__scopeDropdownMenu:a,...n}=e,o=X(a);return t.jsx(Yc,{...o,...n,ref:r})});gl.displayName=fl;var ml="DropdownMenuItemIndicator",pl=i.forwardRef((e,r)=>{const{__scopeDropdownMenu:a,...n}=e,o=X(a);return t.jsx(Xc,{...o,...n,ref:r})});pl.displayName=ml;var hl="DropdownMenuSeparator",an=i.forwardRef((e,r)=>{const{__scopeDropdownMenu:a,...n}=e,o=X(a);return t.jsx(Zc,{...o,...n,ref:r})});an.displayName=hl;var xl="DropdownMenuArrow",vl=i.forwardRef((e,r)=>{const{__scopeDropdownMenu:a,...n}=e,o=X(a);return t.jsx(Jc,{...o,...n,ref:r})});vl.displayName=xl;var yl="DropdownMenuSubTrigger",bl=i.forwardRef((e,r)=>{const{__scopeDropdownMenu:a,...n}=e,o=X(a);return t.jsx(Qc,{...o,...n,ref:r})});bl.displayName=yl;var wl="DropdownMenuSubContent",jl=i.forwardRef((e,r)=>{const{__scopeDropdownMenu:a,...n}=e,o=X(a);return t.jsx(el,{...o,...n,ref:r,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jl.displayName=wl;var Nl=Ya,kl=Za,Cl=Ja,Sl=en,_l=tn,El=rn,Pl=an;function ar({...e}){return t.jsx(Nl,{"data-slot":"dropdown-menu",...e})}function nr({...e}){return t.jsx(kl,{"data-slot":"dropdown-menu-trigger",...e})}function or({className:e,sideOffset:r=4,...a}){return t.jsx(Cl,{children:t.jsx(Sl,{"data-slot":"dropdown-menu-content",sideOffset:r,className:B("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...a})})}function oe({className:e,inset:r,variant:a="default",...n}){return t.jsx(El,{"data-slot":"dropdown-menu-item","data-inset":r,"data-variant":a,className:B("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}function Ml({className:e,inset:r,...a}){return t.jsx(_l,{"data-slot":"dropdown-menu-label","data-inset":r,className:B("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...a})}function lt({className:e,...r}){return t.jsx(Pl,{"data-slot":"dropdown-menu-separator",className:B("bg-border -mx-1 my-1 h-px",e),...r})}function Rl(e,r){const a=i.createContext(r),n=s=>{const{children:l,...c}=s,d=i.useMemo(()=>c,Object.values(c));return t.jsx(a.Provider,{value:d,children:l})};n.displayName=e+"Provider";function o(s){const l=i.useContext(a);if(l)return l;if(r!==void 0)return r;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,o]}function Il(e,r=[]){let a=[];function n(s,l){const c=i.createContext(l),d=a.length;a=[...a,l];const f=u=>{const{scope:p,children:y,...v}=u,h=p?.[e]?.[d]||c,x=i.useMemo(()=>v,Object.values(v));return t.jsx(h.Provider,{value:x,children:y})};f.displayName=s+"Provider";function g(u,p){const y=p?.[e]?.[d]||c,v=i.useContext(y);if(v)return v;if(l!==void 0)return l;throw new Error(`\`${u}\` must be used within \`${s}\``)}return[f,g]}const o=()=>{const s=a.map(l=>i.createContext(l));return function(c){const d=c?.[e]||s;return i.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return o.scopeName=e,[n,Dl(o,...r)]}function Dl(...e){const r=e[0];if(e.length===1)return r;const a=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const l=n.reduce((c,{useScope:d,scopeName:f})=>{const u=d(s)[`__scope${f}`];return{...c,...u}},{});return i.useMemo(()=>({[`__scope${r.scopeName}`]:l}),[l])}};return a.scopeName=r.scopeName,a}function nn(e){const r=$l(e),a=i.forwardRef((n,o)=>{const{children:s,...l}=n,c=i.Children.toArray(s),d=c.find(Al);if(d){const f=d.props.children,g=c.map(u=>u===d?i.Children.count(f)>1?i.Children.only(null):i.isValidElement(f)?f.props.children:null:u);return t.jsx(r,{...l,ref:o,children:i.isValidElement(f)?i.cloneElement(f,void 0,g):null})}return t.jsx(r,{...l,ref:o,children:s})});return a.displayName=`${e}.Slot`,a}function $l(e){const r=i.forwardRef((a,n)=>{const{children:o,...s}=a;if(i.isValidElement(o)){const l=Fl(o),c=Ol(s,o.props);return o.type!==i.Fragment&&(c.ref=n?ce(n,l):l),i.cloneElement(o,c)}return i.Children.count(o)>1?i.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var Tl=Symbol("radix.slottable");function Al(e){return i.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Tl}function Ol(e,r){const a={...r};for(const n in r){const o=e[n],s=r[n];/^on[A-Z]/.test(n)?o&&s?a[n]=(...c)=>{const d=s(...c);return o(...c),d}:o&&(a[n]=o):n==="style"?a[n]={...o,...s}:n==="className"&&(a[n]=[o,s].filter(Boolean).join(" "))}return{...e,...a}}function Fl(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=r&&"isReactWarning"in r&&r.isReactWarning;return a?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}var Ll=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ge=Ll.reduce((e,r)=>{const a=nn(`Primitive.${r}`),n=i.forwardRef((o,s)=>{const{asChild:l,...c}=o,d=l?a:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(d,{...c,ref:s})});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{}),yt="Dialog",[on]=Il(yt),[Ul,se]=on(yt),sn=e=>{const{__scopeDialog:r,children:a,open:n,defaultOpen:o,onOpenChange:s,modal:l=!0}=e,c=i.useRef(null),d=i.useRef(null),[f,g]=ut({prop:n,defaultProp:o??!1,onChange:s,caller:yt});return t.jsx(Ul,{scope:r,triggerRef:c,contentRef:d,contentId:xe(),titleId:xe(),descriptionId:xe(),open:f,onOpenChange:g,onOpenToggle:i.useCallback(()=>g(u=>!u),[g]),modal:l,children:a})};sn.displayName=yt;var cn="DialogTrigger",Vl=i.forwardRef((e,r)=>{const{__scopeDialog:a,...n}=e,o=se(cn,a),s=ee(r,o.triggerRef);return t.jsx(Ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":cr(o.open),...n,ref:s,onClick:I(e.onClick,o.onOpenToggle)})});Vl.displayName=cn;var sr="DialogPortal",[Bl,ln]=on(sr,{forceMount:void 0}),dn=e=>{const{__scopeDialog:r,forceMount:a,children:n,container:o}=e,s=se(sr,r);return t.jsx(Bl,{scope:r,forceMount:a,children:i.Children.map(n,l=>t.jsx(fe,{present:a||s.open,children:t.jsx(Ir,{asChild:!0,container:o,children:l})}))})};dn.displayName=sr;var dt="DialogOverlay",un=i.forwardRef((e,r)=>{const a=ln(dt,e.__scopeDialog),{forceMount:n=a.forceMount,...o}=e,s=se(dt,e.__scopeDialog);return s.modal?t.jsx(fe,{present:n||s.open,children:t.jsx(Gl,{...o,ref:r})}):null});un.displayName=dt;var Wl=nn("DialogOverlay.RemoveScroll"),Gl=i.forwardRef((e,r)=>{const{__scopeDialog:a,...n}=e,o=se(dt,a);return t.jsx(Yt,{as:Wl,allowPinchZoom:!0,shards:[o.contentRef],children:t.jsx(Ge.div,{"data-state":cr(o.open),...n,ref:r,style:{pointerEvents:"auto",...n.style}})})}),we="DialogContent",fn=i.forwardRef((e,r)=>{const a=ln(we,e.__scopeDialog),{forceMount:n=a.forceMount,...o}=e,s=se(we,e.__scopeDialog);return t.jsx(fe,{present:n||s.open,children:s.modal?t.jsx(zl,{...o,ref:r}):t.jsx(Hl,{...o,ref:r})})});fn.displayName=we;var zl=i.forwardRef((e,r)=>{const a=se(we,e.__scopeDialog),n=i.useRef(null),o=ee(r,a.contentRef,n);return i.useEffect(()=>{const s=n.current;if(s)return va(s)},[]),t.jsx(gn,{...e,ref:o,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:I(e.onCloseAutoFocus,s=>{s.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:I(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&s.preventDefault()}),onFocusOutside:I(e.onFocusOutside,s=>s.preventDefault())})}),Hl=i.forwardRef((e,r)=>{const a=se(we,e.__scopeDialog),n=i.useRef(!1),o=i.useRef(!1);return t.jsx(gn,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||a.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=s.target;a.triggerRef.current?.contains(l)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),gn=i.forwardRef((e,r)=>{const{__scopeDialog:a,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:s,...l}=e,c=se(we,a),d=i.useRef(null),f=ee(r,d);return ma(),t.jsxs(t.Fragment,{children:[t.jsx(qt,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:s,children:t.jsx(Dr,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":cr(c.open),...l,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(Kl,{titleId:c.titleId}),t.jsx(Yl,{contentRef:d,descriptionId:c.descriptionId})]})]})}),ir="DialogTitle",mn=i.forwardRef((e,r)=>{const{__scopeDialog:a,...n}=e,o=se(ir,a);return t.jsx(Ge.h2,{id:o.titleId,...n,ref:r})});mn.displayName=ir;var pn="DialogDescription",hn=i.forwardRef((e,r)=>{const{__scopeDialog:a,...n}=e,o=se(pn,a);return t.jsx(Ge.p,{id:o.descriptionId,...n,ref:r})});hn.displayName=pn;var xn="DialogClose",vn=i.forwardRef((e,r)=>{const{__scopeDialog:a,...n}=e,o=se(xn,a);return t.jsx(Ge.button,{type:"button",...n,ref:r,onClick:I(e.onClick,()=>o.onOpenChange(!1))})});vn.displayName=xn;function cr(e){return e?"open":"closed"}var yn="DialogTitleWarning",[Nd,bn]=Rl(yn,{contentName:we,titleName:ir,docsSlug:"dialog"}),Kl=({titleId:e})=>{const r=bn(yn),a=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return i.useEffect(()=>{e&&(document.getElementById(e)||console.error(a))},[a,e]),null},ql="DialogDescriptionWarning",Yl=({contentRef:e,descriptionId:r})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${bn(ql).contentName}}.`;return i.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");r&&o&&(document.getElementById(r)||console.warn(n))},[n,e,r]),null},Xl=sn,Zl=dn,Jl=un,Ql=fn,ed=mn,td=hn,rd=vn;function Xe({...e}){return t.jsx(Xl,{"data-slot":"dialog",...e})}function ad({...e}){return t.jsx(Zl,{"data-slot":"dialog-portal",...e})}function nd({className:e,...r}){return t.jsx(Jl,{"data-slot":"dialog-overlay",className:B("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...r})}function Ze({className:e,children:r,showCloseButton:a=!0,...n}){return t.jsxs(ad,{"data-slot":"dialog-portal",children:[t.jsx(nd,{}),t.jsxs(Ql,{"data-slot":"dialog-content",className:B("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",e),...n,children:[r,a&&t.jsxs(rd,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[t.jsx(Gt,{}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Je({className:e,...r}){return t.jsx("div",{"data-slot":"dialog-header",className:B("flex flex-col gap-2 text-center sm:text-left",e),...r})}function Qe({className:e,...r}){return t.jsx("div",{"data-slot":"dialog-footer",className:B("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...r})}function et({className:e,...r}){return t.jsx(ed,{"data-slot":"dialog-title",className:B("text-lg leading-none font-semibold",e),...r})}function tt({className:e,...r}){return t.jsx(td,{"data-slot":"dialog-description",className:B("text-muted-foreground text-sm",e),...r})}function wn({className:e,...r}){return t.jsx("textarea",{"data-slot":"textarea",className:B("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...r})}function De({className:e,...r}){return t.jsx("div",{"data-slot":"skeleton",className:B("bg-accent animate-pulse rounded-md",e),...r})}function od({user:e,currentUserId:r,onNavigate:a,onEditProfile:n,onPrivacySettings:o,onChangePassword:s,onLogout:l,onAvatarUpdate:c,onUserUpdate:d,notificationsCount:f=5,messagesCount:g=3}){const[u,p]=i.useState(""),[y,v]=i.useState(!1),x=e||(()=>{try{const P=localStorage.getItem("current_user");if(P)return JSON.parse(P)}catch(P){console.error("Error parsing stored user:",P)}return null})(),w=P=>{P.preventDefault(),u.trim()&&a(`/search?q=${encodeURIComponent(u)}`)},N=async P=>{if(!r){C.error("Please log in to upload profile picture");return}if(!P.type.startsWith("image/")){C.error("Please upload an image file");return}if(P.size>5*1024*1024){C.error("Image size should be less than 5MB");return}v(!0);try{const U=P.name.split(".").pop(),M=`${Date.now()}.${U}`,b=`${r}/${M}`,{error:$}=await O.storage.from("avatars").upload(b,P,{cacheControl:"3600",upsert:!0});if($)throw $;const{data:{publicUrl:F}}=O.storage.from("avatars").getPublicUrl(b);try{const{error:G}=await O.from("users").update({avatar_url:F}).eq("id",r);if(G&&(console.warn("Note: Could not update avatar_url in database"),x)){const K={...x,avatar_url:F};localStorage.setItem("current_user",JSON.stringify(K))}}catch(G){if(console.warn("Database update failed:",G),x){const K={...x,avatar_url:F};localStorage.setItem("current_user",JSON.stringify(K))}}c&&c(F),d&&x&&d({...x,avatar_url:F}),C.success("Profile picture updated!")}catch(U){console.error("Error uploading avatar:",U),C.error(U.message||"Failed to upload profile picture")}finally{v(!1)}},S=async P=>{const U=P.target.files?.[0];U&&await N(U),P.target.value=""},_=()=>{if(!x)return"U";const P=x.first_name||"",U=x.last_name||"";if(P&&U)return`${P[0]}${U[0]}`.toUpperCase();if(x.full_name){const M=x.full_name.split(" ");return M.length>=2?`${M[0][0]}${M[1][0]}`.toUpperCase():M[0][0]?.toUpperCase()||"U"}console.log("userasdadsasdsasdasdasasdasdasdadsasddasasd"+x.full_name)},T=()=>x&&(x.full_name||x.email?.split("@")[0])||"User",L=()=>x&&x.position||"Employee",D=()=>x&&x.email||"";return t.jsx("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg border-b border-gray-200/50 dark:border-gray-700/50",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex items-center justify-between h-16",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs(In,{to:"/",className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx($r,{className:"h-5 w-5 text-white"})}),t.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent dark:from-blue-400 dark:to-indigo-400",children:"DeskStaff"})]}),t.jsxs("form",{onSubmit:w,className:"relative hidden md:block",children:[t.jsx(_o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),t.jsx(Y,{placeholder:"Search colleagues, projects, or documents...",className:"pl-10 w-64 bg-gray-100/50 dark:bg-gray-700/50 border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-500 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",value:u,onChange:P=>p(P.target.value)})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(On,{}),t.jsx(R,{variant:"ghost",size:"icon",className:"rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300",title:"Home",onClick:()=>a("/"),children:t.jsx(ho,{className:"h-5 w-5"})}),t.jsxs(R,{variant:"ghost",size:"icon",className:"rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 relative text-gray-700 dark:text-gray-300",title:"Notifications",onClick:()=>a("/notifications"),children:[t.jsx(Zn,{className:"h-5 w-5"}),f>0&&t.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:f>9?"9+":f})]}),t.jsxs(R,{variant:"ghost",size:"icon",className:"rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 relative text-gray-700 dark:text-gray-300",title:"Messages",onClick:()=>a("/messages"),children:[t.jsx(jo,{className:"h-5 w-5"}),g>0&&t.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:g>9?"9+":g})]}),t.jsx(R,{variant:"ghost",size:"icon",className:"rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300",title:"Teams",onClick:()=>a("/teams"),children:t.jsx(rt,{className:"h-5 w-5"})}),t.jsxs(ar,{children:[t.jsx(nr,{asChild:!0,children:t.jsx(R,{variant:"ghost",className:"relative h-9 w-9 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",disabled:y,children:y?t.jsx("div",{className:"h-9 w-9 flex items-center justify-center",children:t.jsx(ve,{className:"h-5 w-5 text-blue-600 animate-spin"})}):t.jsxs("div",{className:"relative",children:[t.jsxs(ye,{className:"h-9 w-9 ring-2 ring-white dark:ring-gray-700",children:[t.jsx(Me,{src:x?.avatar_url||void 0,alt:T()}),t.jsx(be,{className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white",children:_()})]}),t.jsx("label",{className:"absolute -bottom-1 -right-1 cursor-pointer",children:t.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:S,disabled:y})})]})})}),t.jsxs(or,{className:"w-56 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",align:"end",children:[t.jsxs(Ml,{className:"flex items-center gap-3 text-gray-900 dark:text-white p-3",children:[t.jsxs("div",{className:"relative",children:[t.jsxs(ye,{className:"h-12 w-12",children:[t.jsx(Me,{src:x?.avatar_url||void 0,alt:T()}),t.jsx(be,{className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white",children:_()})]}),t.jsxs("label",{className:"absolute -bottom-1 -right-1 cursor-pointer",children:[t.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:S,disabled:y}),t.jsx("div",{className:"h-6 w-6 bg-blue-600 rounded-full flex items-center justify-center hover:bg-blue-700 transition-colors border-2 border-white dark:border-gray-800",children:y?t.jsx(ve,{className:"h-3 w-3 text-white animate-spin"}):t.jsx(Tr,{className:"h-3 w-3 text-white"})})]})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold truncate",children:T()}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:L()}),D()&&t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate mt-1",children:D()})]})]}),t.jsx("div",{className:"px-3 py-2",children:t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"Click camera icon to update profile picture"})}),t.jsx(lt,{className:"bg-gray-200 dark:bg-gray-700"}),t.jsxs(oe,{onClick:()=>r&&a(`/profile/${r}`),className:"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:[t.jsx(Bo,{className:"mr-2 h-4 w-4"}),"My Profile"]}),t.jsxs(oe,{onClick:n,className:"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:[t.jsx(Oe,{className:"mr-2 h-4 w-4"}),"Edit Profile"]}),t.jsxs(oe,{onClick:o,className:"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:[t.jsx(To,{className:"mr-2 h-4 w-4"}),"Privacy Settings"]}),t.jsxs(oe,{onClick:s,className:"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:[t.jsx(Un,{className:"mr-2 h-4 w-4"}),"Change Password"]}),t.jsx(lt,{className:"bg-gray-200 dark:bg-gray-700"}),t.jsxs(oe,{className:"text-red-600 focus:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 cursor-pointer",onClick:l,children:[t.jsx(Vr,{className:"mr-2 h-4 w-4"}),"Log out"]})]})]})]})]})})})}function sd({user:e,onSubmit:r,placeholder:a="What's on your mind?",disabled:n=!1}){const[o,s]=i.useState(""),[l,c]=i.useState(null),[d,f]=i.useState(null),[g,u]=i.useState(!1),p=h=>{const x=h.target.files?.[0];if(x){if(x.size>5*1024*1024)return;c(x);const w=new FileReader;w.onloadend=()=>{f(w.result)},w.readAsDataURL(x)}},y=()=>{c(null),f(null)},v=async()=>{if(!(!o.trim()&&!l)){u(!0);try{await r(o,l||void 0),s(""),c(null),f(null)}catch(h){console.error("Error creating post:",h)}finally{u(!1)}}};return t.jsx(ue,{className:"border-gray-200/50 dark:border-gray-700/50 bg-white dark:bg-gray-900",children:t.jsx(he,{className:"pt-6",children:t.jsxs("div",{className:"flex gap-4",children:[t.jsxs(ye,{className:"h-12 w-12",children:[t.jsx(Me,{src:e?.avatar_url||void 0}),t.jsxs(be,{className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white",children:[e?.first_name?.[0],e?.last_name?.[0]]})]}),t.jsxs("div",{className:"flex-1 space-y-4",children:[t.jsx(wn,{placeholder:`${a} ${e?.first_name}?`,value:o,onChange:h=>s(h.target.value),className:"min-h-[120px] resize-none border-gray-300 dark:border-gray-600 focus:border-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",disabled:n||g}),d&&t.jsxs("div",{className:"relative rounded-xl overflow-hidden",children:[t.jsx("img",{src:d,alt:"Preview",className:"w-full max-h-96 object-cover"}),t.jsx(R,{type:"button",variant:"destructive",size:"sm",className:"absolute top-3 right-3 backdrop-blur-sm",onClick:y,disabled:g,children:t.jsx(Gt,{className:"h-4 w-4"})})]}),t.jsx(Ae,{className:"bg-gray-200 dark:bg-gray-700"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-gray-600 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400 transition-colors",children:[t.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:p,disabled:g}),t.jsx("div",{className:"p-2 rounded-lg bg-blue-50 dark:bg-blue-900/30",children:t.jsx(Ur,{className:"h-5 w-5"})}),t.jsx("span",{className:"hidden sm:inline",children:"Photo"})]}),t.jsxs(R,{variant:"ghost",size:"sm",className:"gap-2 text-gray-600 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400",disabled:g,children:[t.jsx("div",{className:"p-2 rounded-lg bg-purple-50 dark:bg-purple-900/30",children:t.jsx(at,{className:"h-5 w-5"})}),t.jsx("span",{className:"hidden sm:inline",children:"Video"})]}),t.jsxs(R,{variant:"ghost",size:"sm",className:"gap-2 text-gray-600 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400",disabled:g,children:[t.jsx("div",{className:"p-2 rounded-lg bg-green-50 dark:bg-green-900/30",children:t.jsx(Oo,{className:"h-5 w-5"})}),t.jsx("span",{className:"hidden sm:inline",children:"Feeling"})]})]}),t.jsx(R,{onClick:v,disabled:g||!o.trim()&&!l||n,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white shadow-lg",children:g?t.jsx(ve,{className:"h-4 w-4 animate-spin"}):t.jsxs(t.Fragment,{children:[t.jsx(Po,{className:"h-4 w-4 mr-2"}),"Post"]})})]})]})]})})})}function id({id:e,content:r,image_url:a,created_at:n,likes_count:o,comments_count:s,user:l,liked:c,bookmarked:d,isOwnPost:f=!1,onLike:g,onBookmark:u,onComment:p,onShare:y,onEdit:v,onDelete:h,showActions:x=!0}){const w=new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return t.jsx(ue,{className:"border-gray-200/50 dark:border-gray-700/50 overflow-hidden bg-white dark:bg-gray-900",children:t.jsxs(he,{className:"pt-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(ye,{children:[t.jsx(Me,{src:l.avatar_url||void 0}),t.jsx(be,{className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white",children:l.full_name.split(" ").map(N=>N[0]).join("")})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:l.full_name}),f&&t.jsx($e,{variant:"outline",className:"text-xs bg-blue-50 dark:bg-blue-900/20",children:"You"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[t.jsx(Ar,{className:"h-3 w-3"}),t.jsx("span",{children:w}),t.jsx(Fr,{className:"h-3 w-3"}),t.jsx("span",{children:"Public"})]})]})]}),x&&t.jsxs(ar,{children:[t.jsx(nr,{asChild:!0,children:t.jsx(R,{variant:"ghost",size:"sm",className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:t.jsx(Or,{className:"h-4 w-4"})})}),t.jsxs(or,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[f&&v&&t.jsxs(oe,{onClick:()=>v(e),className:"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[t.jsx(Oe,{className:"mr-2 h-4 w-4"}),"Edit Post"]}),t.jsxs(oe,{onClick:()=>u(e),className:"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[t.jsx(Ft,{className:`mr-2 h-4 w-4 ${d?"fill-current text-yellow-500":""}`}),d?"Remove from Bookmarks":"Save Post"]}),f&&h&&t.jsxs(t.Fragment,{children:[t.jsx(lt,{className:"bg-gray-200 dark:bg-gray-700"}),t.jsxs(oe,{className:"text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>h(e),children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Delete Post"]})]})]})]})]}),t.jsx("p",{className:"mb-4 text-gray-700 dark:text-gray-300 leading-relaxed",children:r}),a&&t.jsx("div",{className:"mb-4 rounded-xl overflow-hidden",children:t.jsx("img",{src:a,alt:"Post",className:"w-full max-h-96 object-cover cursor-pointer hover:opacity-95 transition-opacity"})}),t.jsxs("div",{className:"flex items-center justify-between text-gray-500 dark:text-gray-400 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"flex items-center -space-x-1",children:[t.jsx("div",{className:"h-6 w-6 rounded-full bg-blue-500 flex items-center justify-center ring-2 ring-white dark:ring-gray-800",children:t.jsx("span",{className:"text-xs text-white",children:""})}),t.jsx("div",{className:"h-6 w-6 rounded-full bg-red-500 flex items-center justify-center ring-2 ring-white dark:ring-gray-800",children:t.jsx("span",{className:"text-xs text-white",children:""})})]}),t.jsxs("span",{children:[o," reactions"]})]}),t.jsx("div",{children:t.jsxs("span",{children:[s," comments"]})})]}),x&&t.jsxs(t.Fragment,{children:[t.jsx(Ae,{className:"mb-4 bg-gray-200 dark:bg-gray-700"}),t.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[t.jsxs(R,{variant:"ghost",size:"sm",className:`gap-2 ${c?"text-blue-600":"text-gray-600 dark:text-gray-400"}`,onClick:()=>g(e),children:[t.jsx(Lr,{className:`h-4 w-4 ${c?"fill-current":""}`}),c?"Liked":"Like"]}),t.jsxs(R,{variant:"ghost",size:"sm",className:"gap-2 text-gray-600 dark:text-gray-400",onClick:()=>p?.(e),children:[t.jsx(st,{className:"h-4 w-4"}),"Comment"]}),t.jsxs(R,{variant:"ghost",size:"sm",className:"gap-2 text-gray-600 dark:text-gray-400",onClick:()=>y?.(e),children:[t.jsx(Do,{className:"h-4 w-4"}),"Share"]}),t.jsxs(R,{variant:"ghost",size:"sm",className:`gap-2 ${d?"text-yellow-600":"text-gray-600 dark:text-gray-400"}`,onClick:()=>u(e),children:[t.jsx(Ft,{className:`h-4 w-4 ${d?"fill-current":""}`}),"Save"]})]})]})]})})}function cd({user:e,connectionsCount:r=0,isOwnProfile:a=!1,onConnect:n,onMessage:o,onEdit:s,showActions:l=!0}){return t.jsxs(ue,{className:"border-gray-200/50 dark:border-gray-700/50 bg-white dark:bg-gray-900",children:[t.jsx(At,{className:"pb-3",children:t.jsxs(Ot,{className:"flex items-center justify-between text-lg text-gray-900 dark:text-white",children:[t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(gr,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),"Professional Information"]}),a&&s&&t.jsx(R,{variant:"ghost",size:"sm",onClick:s,className:"text-gray-600 dark:text-gray-400",children:t.jsx(Oe,{className:"h-4 w-4"})})]})}),t.jsxs(he,{className:"space-y-4",children:[e.bio?t.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:e.bio}):t.jsx("p",{className:"text-gray-400 italic",children:"No summary added yet"}),t.jsx(Ae,{className:"bg-gray-200 dark:bg-gray-700"}),t.jsxs("div",{className:"space-y-4",children:[e.position&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:t.jsx(gr,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Position"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.position})]})]}),e.department&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-10 w-10 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center",children:t.jsx($r,{className:"h-5 w-5 text-indigo-600 dark:text-indigo-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Department"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.department})]})]}),e.location&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-10 w-10 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:t.jsx(bo,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Location"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.location})]})]}),e.email&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-10 w-10 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:t.jsx(Hn,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Email"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300 truncate",children:e.email})]})]}),e.phone&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-10 w-10 rounded-lg bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center",children:t.jsx(Co,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Phone"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.phone})]})]}),e.hire_date&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-10 w-10 rounded-lg bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:t.jsx(so,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Hire Date"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:new Date(e.hire_date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]})]}),l&&!a&&t.jsxs(t.Fragment,{children:[t.jsx(Ae,{className:"bg-gray-200 dark:bg-gray-700"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(R,{className:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white",onClick:n,children:[t.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Connect"]}),t.jsxs(R,{variant:"outline",className:"flex-1 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300",onClick:o,children:[t.jsx(st,{className:"h-4 w-4 mr-2"}),"Message"]})]})]})]})]})}function ld(){const[e,r]=i.useState(Ie.getVersion());return i.useEffect(()=>Ie.subscribe(()=>{r(Ie.getVersion())}),[]),{version:e,bust:()=>Ie.bust(),getBustedUrl:o=>o&&Ie.bustSupabaseUrl(o)}}function dd({userId:e,currentAvatarUrl:r,onUploadComplete:a,size:n="md",editable:o=!0,showRemoveButton:s=!0,compact:l=!1}){const[c,d]=i.useState(!1),[f,g]=i.useState(!1),[u,p]=i.useState(!1),[y,v]=i.useState(Date.now()),{getBustedUrl:h,version:x}=ld(),w={xs:"h-8 w-8",sm:"h-12 w-12",md:"h-16 w-16",lg:"h-24 w-24",xl:"h-32 w-32"},N={xs:"h-3 w-3",sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6",xl:"h-8 w-8"};i.useEffect(()=>{v(Date.now())},[x]);const S=async M=>{try{const b=await fetch(M,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"},cache:"no-store"});if(b.ok){const $=await b.blob(),F=URL.createObjectURL($);return setTimeout(()=>{URL.revokeObjectURL(F)},3e3),F}}catch(b){console.warn("Could not force refresh image:",b)}return h(M)},_=async M=>{if(!e){C.error("User ID is required");return}if(!M.type.startsWith("image/")){C.error("Please upload an image file");return}if(M.size>5*1024*1024){C.error("Image size should be less than 5MB");return}d(!0),p(!1);try{const b=M.name.split(".").pop()?.toLowerCase(),$=Date.now(),F=Math.random().toString(36).substring(2,10),G=`${$}_${F}.${b}`,K=`${e}/${G}`,{error:Z}=await O.storage.from("avatars").upload(K,M,{cacheControl:"0",upsert:!1,contentType:M.type});if(Z)throw Z;const{data:{publicUrl:ge}}=O.storage.from("avatars").getPublicUrl(K),J=`${ge}?_=${$}&cb=${Date.now()}`,{error:E}=await O.from("users").update({avatar_url:J,updated_at:new Date().toISOString()}).eq("id",e);if(E)throw await O.storage.from("avatars").remove([K]),E;ur(),v(Date.now());let te=J;try{te=await S(J)}catch(W){console.warn("Using regular URL for image:",W)}a(te),p(!0),setTimeout(async()=>{try{const{data:W}=await O.storage.from("avatars").list(e);if(W){const re=W.filter(ae=>ae.name!==G).map(ae=>`${e}/${ae.name}`);re.length>0&&await O.storage.from("avatars").remove(re)}}catch(W){console.warn("Failed to cleanup old avatars:",W)}},2e3),setTimeout(()=>p(!1),2e3),l||C.success("Profile picture updated!")}catch(b){console.error("Error uploading avatar:",b),C.error(b.message||"Failed to upload profile picture")}finally{d(!1)}},T=async M=>{const b=M.target.files?.[0];b&&await _(b),M.target.value=""},L=async()=>{if(e){d(!0);try{const{data:M}=await O.storage.from("avatars").list(e);if(M&&M.length>0){const $=M.map(F=>`${e}/${F.name}`);await O.storage.from("avatars").remove($)}const{error:b}=await O.from("users").update({avatar_url:null,updated_at:new Date().toISOString()}).eq("id",e);if(b)throw b;ur(),v(Date.now()),a(""),C.success("Profile picture removed")}catch(M){console.error("Error removing avatar:",M),C.error(M.message||"Failed to remove profile picture")}finally{d(!1)}}},D=()=>"U",P=r?h(r):null,U=`${P||""}_${y}_${x}`;return l?t.jsx("div",{className:"relative",children:t.jsxs("label",{className:"cursor-pointer",children:[t.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:T,disabled:c}),t.jsxs(ye,{className:`${w[n]} border-2 border-transparent hover:border-blue-500 transition-all duration-200`,children:[P&&!c?t.jsx(Me,{src:P,alt:"Profile",className:"object-cover",onError:M=>{const b=M.target;r&&b.src!==r&&(b.src=h(r))}},U):null,t.jsx(be,{className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white",children:c?t.jsx(ve,{className:`${N[n]} animate-spin`}):u?t.jsx(fr,{className:`${N[n]} text-green-400`}):D()})]})]})}):t.jsxs("div",{className:"relative group",children:[t.jsxs(ye,{className:`${w[n]} border-2 border-white dark:border-gray-800 shadow-md transition-all duration-200 ${f&&o?"scale-105":""}`,onMouseEnter:()=>o&&g(!0),onMouseLeave:()=>g(!1),children:[P&&!c?t.jsx(Me,{src:P,alt:"Profile",className:"object-cover",onError:M=>{const b=M.target;r&&b.src!==r&&(b.src=h(r))}},U):null,t.jsx(be,{className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white",children:c?t.jsx(ve,{className:`${N[n]} animate-spin`}):u?t.jsx(fr,{className:`${N[n]} text-green-400`}):D()})]}),o&&t.jsxs(t.Fragment,{children:[t.jsxs("label",{className:`absolute inset-0 flex items-center justify-center bg-black/40 rounded-full cursor-pointer transition-all duration-200 ${f?"opacity-100":"opacity-0"} ${c?"pointer-events-none":""}`,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:[t.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:T,disabled:c}),t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx(Tr,{className:`${N[n]} text-white`}),n!=="xs"&&n!=="sm"&&t.jsx("span",{className:"text-white text-xs font-medium",children:c?"Uploading...":"Change"})]})]}),r&&s&&!c&&t.jsx(R,{type:"button",size:"icon",variant:"destructive",className:`absolute -top-1 -right-1 h-6 w-6 rounded-full shadow-md transition-all duration-200 ${f?"opacity-100 scale-100":"opacity-0 scale-90"}`,onClick:L,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),disabled:c,children:t.jsx(Gt,{className:"h-3 w-3"})})]}),c&&t.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black/20 rounded-full"}),t.jsx("div",{className:"relative",children:t.jsx("div",{className:`${w[n].replace("h-","h-").replace("w-","w-")} border-4 border-white/30 border-t-white rounded-full animate-spin`})})]})]})}const kd=Dn(function(){const r=Pr(),{userId:a}=$n(),[n,o]=i.useState(null),[s,l]=i.useState(null),[c,d]=i.useState(null),[f,g]=i.useState(!0),[u,p]=i.useState([]),[y,v]=i.useState([]),[h,x]=i.useState("posts"),[w,N]=i.useState(!1),[S,_]=i.useState(!1),[T,L]=i.useState(!1),[D,P]=i.useState(!1),[U,M]=i.useState(!1),[b,$]=i.useState({first_name:"",last_name:"",bio:"",location:"",workplace:"",education:"",birthday:"",website:"",privacy:"public",department:"",position:"",phone:"",hire_date:""}),[F,G]=i.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[K,Z]=i.useState(!1),[ge,J]=i.useState(!1),[E,te]=i.useState(!1),[W,re]=i.useState(!1);i.useEffect(()=>{ne(),ze(),jn()},[]),i.useEffect(()=>{s&&console.log(" Viewed user data:",{full_name:s.full_name,logged_in:s.logged_in}),n&&console.log(" Logged in user data:",{full_name:n.full_name,logged_in:n.logged_in})},[s,n]),i.useEffect(()=>{const{data:{subscription:m}}=O.auth.onAuthStateChange(async(k,j)=>{if(console.log("Auth state changed:",k,j),k==="SIGNED_IN"&&j?.user)try{await ae(!0)}catch(V){console.error("Error setting online status:",V)}});return()=>{m.unsubscribe()}},[r]),i.useEffect(()=>{if(!c||!D)return;const m=["mousedown","keydown","scroll","touchstart"];let k;const j=async()=>{await ke(),clearTimeout(k),k=setTimeout(async()=>{D&&(await Re(),console.log("User marked as offline due to inactivity"))},300*1e3)};return m.forEach(V=>{window.addEventListener(V,j)}),j(),()=>{m.forEach(V=>{window.removeEventListener(V,j)}),clearTimeout(k),D&&Re()}},[c,D]),i.useEffect(()=>{document.title="DeskStaff"},[]),i.useEffect(()=>{const m=a||c;if(!m)return;const k=O.channel(`user-${m}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"users",filter:`id=eq.${m}`},j=>{console.log("User updated:",j.new);const V=j.new;a&&a!==c?l(V):(l(V),o(V))}).subscribe();return()=>{O.removeChannel(k)}},[a,c]);const ae=async m=>{try{const{data:{user:k},error:j}=await O.auth.getUser();if(j||!k){console.log("No authenticated user found or auth error:",j);return}console.log(`Updating user ${k.id} logged_in to: ${m}`);const V=new AbortController,me=setTimeout(()=>V.abort(),5e3),{error:ie}=await O.from("users").update({logged_in:m,updated_at:new Date().toISOString(),...m?{}:{last_seen:new Date().toISOString()}}).eq("id",k.id);clearTimeout(me),ie?ie.message.includes("aborted")||ie.message.includes("AbortError")?console.log("Update aborted (expected during logout)"):console.error("Error updating login status:",ie):console.log(`User ${m?"logged in":"logged out"} status updated successfully`)}catch(k){if(k.name==="AbortError"||k.message?.includes("aborted")){console.log("Request was aborted (expected during navigation)");return}console.error("Error in updateUserLoginStatus:",k)}},ke=()=>ae(!0),Re=()=>ae(!1),ne=async()=>{try{console.log(" Starting fetchUserData...");const{data:{session:m},error:k}=await O.auth.getSession();if(k||!m){console.error(" Session error:",k),C.error("Please log in to continue"),r("/",{replace:!0});return}d(m.user.id);const j=a||m.user.id,V=j===m.user.id;P(V);const{data:me,error:ie}=await O.from("users").select("*").eq("id",m.user.id).single();ie?console.error(" Error fetching logged-in user:",ie):o(me);const{data:q,error:bt}=await O.from("users").select("*").eq("id",j).single();if(bt){if(bt.code==="PGRST116"||bt.message.includes("No rows found"))if(console.log(" Viewed user not found in database..."),V){await z(m.user),await ne();return}else{C.error("User profile not found"),r(`/profile/${m.user.id}`,{replace:!0});return}C.error("Failed to load profile data");return}if(!q){if(V){await z(m.user),await ne();return}C.error("User profile not found");return}if(l(q),V){$({first_name:q.first_name||"",last_name:q.last_name||"",bio:q.bio||"",location:q.location||"",workplace:q.workplace||"",education:q.education||"",birthday:q.birthday||"",website:q.website||"",privacy:q.privacy||"public",department:q.department||"",position:q.position||"",phone:q.phone||"",hire_date:q.hire_date||""});try{await ke()}catch(Mn){console.error(" Failed to set user online:",Mn)}}}catch(m){console.error(" Error in fetchUserData:",m),C.error("An unexpected error occurred")}finally{g(!1)}},z=async m=>{try{const{error:k}=await O.from("users").insert({id:m.id,email:m.email,first_name:m.user_metadata?.first_name||"",last_name:m.user_metadata?.last_name||"",full_name:`${m.user_metadata?.first_name||""} ${m.user_metadata?.last_name||""}`.trim()||m.email?.split("@")[0]||"User",avatar_url:null,bio:null,location:null,workplace:null,education:null,birthday:null,website:null,privacy:"public",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),logged_in:!0});if(k)throw k;console.log(" New user record created")}catch(k){throw console.error("Error creating user record:",k),k}},ze=async()=>{try{const m=a||c,k=[{id:"1",content:D?"Just finished the Q3 project report ahead of schedule! Great teamwork from everyone involved. ":`${s?.full_name||"This user"} shared a professional update`,image_url:D?"https://images.unsplash.com/photo-1552664730-d307ca884978?w=800&auto=format&fit=crop":null,created_at:"2024-01-15T10:30:00Z",likes_count:24,comments_count:8,user:{id:m||"1",full_name:s?.full_name||"User",avatar_url:s?.avatar_url||null},liked:!1,bookmarked:!1}];p(k)}catch(m){console.error("Error fetching posts:",m)}},jn=async()=>{try{v([{id:"2",full_name:"Jane Smith",avatar_url:null,mutual_friends:8,status:"accepted",department:"Engineering",position:"Senior Developer",logged_in:!0},{id:"3",full_name:"Bob Johnson",avatar_url:null,mutual_friends:12,status:"accepted",department:"Marketing",position:"Marketing Manager",logged_in:!1}])}catch(m){console.error("Error fetching friends:",m)}},Nn=async()=>{try{const{data:{user:m}}=await O.auth.getUser();if(!m){C.error("No user found");return}C.loading("Testing login status update...");const{data:k,error:j}=await O.from("users").update({logged_in:!1,updated_at:new Date().toISOString()}).eq("id",m.id).select("id, logged_in, updated_at");j?(C.error(`Update failed: ${j.message}`),console.error("Test error details:",j)):(C.success(`Update successful! Status: ${k?.[0]?.logged_in}`),console.log("Test result:",k))}catch(m){C.error("Test failed"),console.error("Test error:",m)}},kn=async()=>{_(!1);let m=!1;const k=j=>{if(!m)return j.preventDefault(),j.returnValue="Please wait, logging out...","Please wait, logging out..."};window.addEventListener("beforeunload",k);try{C.loading("Logging out...");const{data:{user:j}}=await O.auth.getUser();j&&await Cn(j.id),m=!0,window.removeEventListener("beforeunload",k),await O.auth.signOut(),o(null),l(null),p([]),v([]),C.dismiss(),C.success("Logged out!"),r("/",{replace:!0})}catch(j){console.error("Logout error:",j),C.dismiss(),C.error("Logout failed"),window.removeEventListener("beforeunload",k),r("/",{replace:!0})}},Cn=async(m,k=3)=>{for(let j=1;j<=k;j++)try{console.log(`Attempt ${j} to update database...`);const{error:V,status:me}=await O.from("users").update({logged_in:!1,last_seen:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",m);if(V)throw V;console.log(` Database updated on attempt ${j}, status: ${me}`);const{data:ie}=await O.from("users").select("logged_in").eq("id",m).maybeSingle();if(ie&&ie.logged_in===!1){console.log(" Verification passed: logged_in is FALSE");return}else throw new Error("Verification failed")}catch(V){if(console.error(`Attempt ${j} failed:`,V),j===k)throw new Error(`Failed to update database after ${k} attempts`);await new Promise(me=>setTimeout(me,500*j))}},lr=async()=>{try{const{data:{user:m}}=await O.auth.getUser();if(!m)return;const{error:k}=await O.from("users").update({first_name:b.first_name,last_name:b.last_name,full_name:`${b.first_name} ${b.last_name}`,bio:b.bio,location:b.location,workplace:b.workplace,education:b.education,birthday:b.birthday,website:b.website,privacy:b.privacy,department:b.department,position:b.position,phone:b.phone,hire_date:b.hire_date,updated_at:new Date().toISOString()}).eq("id",m.id);if(k)throw k;C.success("Your profile has been successfully updated"),ne(),N(!1)}catch(m){console.error("Error updating profile:",m),C.error("Failed to update profile")}},Sn=async()=>{if(F.newPassword!==F.confirmPassword){C.error("New passwords do not match");return}if(F.newPassword.length<6){C.error("Password must be at least 6 characters");return}re(!0);try{const{error:m}=await O.auth.updateUser({password:F.newPassword});if(m)throw m;C.success("Your password has been successfully updated"),G({currentPassword:"",newPassword:"",confirmPassword:""}),L(!1)}catch(m){console.error("Error changing password:",m),C.error(m.message||"Failed to change password")}finally{re(!1)}},_n=async(m,k)=>{try{const j={id:Date.now().toString(),content:m,image_url:k?URL.createObjectURL(k):null,created_at:new Date().toISOString(),likes_count:0,comments_count:0,user:{id:s?.id||"",full_name:s?.full_name||"",avatar_url:s?.avatar_url||null},liked:!1,bookmarked:!1};p([j,...u]),C.success("Your post has been published")}catch(j){throw console.error("Error creating post:",j),C.error("Failed to create post"),j}},dr=m=>{p(u.map(j=>{if(j.id===m){const V=j.liked;return{...j,liked:!V,likes_count:V?j.likes_count-1:j.likes_count+1}}return j}));const k=u.find(j=>j.id===m);k&&(k.liked?C.info("Post unliked"):C.success("Post liked!"))},En=m=>{p(u.map(j=>{if(j.id===m){const V=j.bookmarked;return{...j,bookmarked:!V}}return j}));const k=u.find(j=>j.id===m);k&&(k.bookmarked?C.info("Post removed from bookmarks"):C.success("Post bookmarked!"))},Pn=m=>{p(u.filter(k=>k.id!==m)),C.success("Post deleted successfully")};return f?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsx(De,{className:"h-64 w-full rounded-xl bg-gray-200 dark:bg-gray-700"}),t.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsx(De,{className:"h-32 w-full rounded-xl bg-gray-200 dark:bg-gray-700"}),[1,2,3].map(m=>t.jsx(De,{className:"h-64 w-full rounded-xl bg-gray-200 dark:bg-gray-700"},m))]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx(De,{className:"h-48 w-full rounded-xl bg-gray-200 dark:bg-gray-700"}),t.jsx(De,{className:"h-64 w-full rounded-xl bg-gray-200 dark:bg-gray-700"})]})]})]})}):t.jsx(Ho,{children:t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[t.jsx(od,{user:n,currentUserId:c,onNavigate:r,onEditProfile:()=>N(!0),onPrivacySettings:()=>M(!0),onChangePassword:()=>L(!0),onLogout:()=>_(!0)}),t.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs(ue,{className:"mb-6 overflow-hidden border-gray-200/50 dark:border-gray-700/50 shadow-lg bg-white dark:bg-gray-900",children:[t.jsxs("div",{className:"relative h-56 bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-600",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent"}),t.jsx("div",{className:"absolute bottom-4 right-4 flex gap-2",children:D?t.jsxs(R,{className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white",onClick:()=>N(!0),children:[t.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Edit Profile"]}):t.jsxs(R,{className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white",onClick:()=>C.success("Connection request sent!"),children:[t.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Connect"]})})]}),t.jsx("div",{className:"relative px-6 pb-6",children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-end gap-6 -mt-16",children:[t.jsx(dd,{userId:s?.id||"",currentAvatarUrl:s?.avatar_url||null,onUploadComplete:m=>{s&&l({...s,avatar_url:m||null}),n&&D&&o({...n,avatar_url:m||null})},size:"lg",editable:D}),t.jsx("div",{className:"flex-1 space-y-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:s?.full_name}),s?.logged_in?t.jsxs($e,{className:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 border-green-200 dark:border-green-800",children:[t.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-green-500 animate-pulse mr-1.5"}),"Online"]}):s?.last_seen?t.jsxs($e,{variant:"outline",className:"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300",children:[t.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-gray-400 mr-1.5"}),"Offline"]}):null,s?.position&&t.jsx($e,{variant:"secondary",className:"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",children:s.position})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-gray-600 dark:text-gray-300",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(to,{className:"h-4 w-4"}),t.jsx("span",{children:s?.department||"Department"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(rt,{className:"h-4 w-4"}),t.jsxs("span",{children:[y.length," Connections"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(no,{className:"h-4 w-4"}),t.jsxs("span",{children:["Joined"," ",s?.created_at?new Date(s.created_at).toLocaleDateString("en-US",{month:"short",year:"numeric"}):"Recently"]})]}),!s?.logged_in&&s?.last_seen&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ar,{className:"h-4 w-4"}),t.jsxs("span",{className:"text-sm",children:["Last seen"," ",new Date(s.last_seen).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(R,{className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white",onClick:()=>C.success("Connection request sent!"),children:[t.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Connect"]}),t.jsxs(R,{variant:"outline",onClick:()=>C.info("Messaging feature coming soon!"),className:"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300",children:[t.jsx(st,{className:"h-4 w-4 mr-2"}),"Message"]}),t.jsxs(ar,{children:[t.jsx(nr,{asChild:!0,children:t.jsx(R,{variant:"outline",size:"icon",className:"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300",children:t.jsx(Or,{className:"h-4 w-4"})})}),t.jsxs(or,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[t.jsxs(oe,{onClick:()=>N(!0),className:"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[t.jsx(Oe,{className:"mr-2 h-4 w-4"}),"Edit Profile"]}),t.jsxs(oe,{onClick:()=>C.info("Saved items feature coming soon!"),className:"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[t.jsx(Ft,{className:"mr-2 h-4 w-4"}),"Saved Items"]}),t.jsx(lt,{className:"bg-gray-200 dark:bg-gray-700"}),t.jsxs(oe,{className:"text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>C.error("Account deletion is not available yet"),children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Delete Account"]})]})]})]})]})})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsx(cd,{user:{full_name:s?.full_name||"",avatar_url:s?.avatar_url||null,bio:s?.bio||null,position:s?.position||"",department:s?.department||"",location:s?.location||null,email:s?.email||"",phone:s?.phone||"",hire_date:s?.hire_date||"",logged_in:s?.logged_in,last_seen:s?.last_seen,created_at:s?.created_at},connectionsCount:y.length,isOwnProfile:D,onConnect:()=>C.success("Connection request sent!"),onMessage:()=>C.info("Messaging feature coming soon!"),onEdit:()=>N(!0),showActions:!D}),t.jsxs(ue,{className:"border-gray-200/50 dark:border-gray-700/50 bg-white dark:bg-gray-900",children:[t.jsx(At,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(Ot,{className:"flex items-center gap-2 text-gray-900 dark:text-white",children:[t.jsx(rt,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),"Connections"]}),t.jsxs(Fn,{className:"text-gray-600 dark:text-gray-400",children:[y.length," professional connections"]})]}),t.jsx(R,{variant:"ghost",size:"sm",onClick:()=>C.info("Connections page coming soon!"),className:"text-gray-600 dark:text-gray-400",children:"See all"})]})}),t.jsx(he,{children:t.jsx("div",{className:"grid grid-cols-3 gap-3",children:y.slice(0,9).map(m=>t.jsxs("div",{className:"group cursor-pointer space-y-2",children:[t.jsx("div",{className:"relative",children:t.jsx(ye,{className:"h-20 w-full rounded-xl border-2 border-transparent group-hover:border-blue-500 transition-all",children:t.jsxs(be,{className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white relative",children:[m.full_name.split(" ").map(k=>k[0]).join(""),m.logged_in&&t.jsx("div",{className:"absolute bottom-0 right-0 h-3 w-3 rounded-full bg-green-500 border-2 border-white dark:border-gray-800"})]})})}),t.jsx("div",{className:"space-y-1",children:t.jsxs("p",{className:"text-xs font-semibold truncate text-gray-900 dark:text-white",children:[m.full_name,m.logged_in&&t.jsx("span",{className:"ml-1 text-green-500",children:""})]})})]},m.id))})})]}),t.jsxs(ue,{className:"border-gray-200/50 dark:border-gray-700/50 bg-white dark:bg-gray-900",children:[t.jsx(At,{className:"pb-3",children:t.jsxs(Ot,{className:"flex items-center gap-2 text-gray-900 dark:text-white",children:[t.jsx(Yn,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),"Skills & Privacy"]})}),t.jsxs(he,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Profile Privacy"}),t.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[s?.privacy==="public"&&"Public - Anyone can see your profile",s?.privacy==="friends"&&"Connections only",s?.privacy==="private"&&"Private - Only you can see"]})]}),t.jsx($e,{variant:s?.privacy==="public"?"default":s?.privacy==="friends"?"secondary":"destructive",className:"bg-gradient-to-r from-blue-500 to-indigo-600",children:s?.privacy?.charAt(0).toUpperCase()+s?.privacy?.slice(1)})]}),t.jsxs(R,{variant:"outline",className:"w-full border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300",onClick:()=>M(!0),children:[t.jsx(Ro,{className:"h-4 w-4 mr-2"}),"Privacy Settings"]})]})]})]}),t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[D&&t.jsx(sd,{user:s,onSubmit:_n,placeholder:"What's on your mind",disabled:!s}),t.jsxs(Hs,{value:h,onValueChange:x,children:[t.jsxs(Ks,{className:"grid w-full grid-cols-3 bg-gray-100/50 dark:bg-gray-800/50 p-1 rounded-xl",children:[t.jsxs(St,{value:"posts",className:"rounded-lg data-[state=active]:bg-white dark:data-[state=active]:bg-gray-800 data-[state=active]:shadow-sm text-gray-700 dark:text-gray-300",children:[t.jsx(fo,{className:"h-4 w-4 mr-2"}),"Posts"]}),t.jsxs(St,{value:"photos",className:"rounded-lg data-[state=active]:bg-white dark:data-[state=active]:bg-gray-800 data-[state=active]:shadow-sm text-gray-700 dark:text-gray-300",children:[t.jsx(Ur,{className:"h-4 w-4 mr-2"}),"Photos"]}),t.jsxs(St,{value:"videos",className:"rounded-lg data-[state=active]:bg-white dark:data-[state=active]:bg-gray-800 data-[state=active]:shadow-sm text-gray-700 dark:text-gray-300",children:[t.jsx(at,{className:"h-4 w-4 mr-2"}),"Videos"]})]}),t.jsx(_t,{value:"posts",className:"space-y-6 mt-6",children:u.map(m=>t.jsx(id,{...m,isOwnPost:m.user.id===s?.id,onLike:dr,onBookmark:En,onComment:()=>C.info("Comment feature coming soon!"),onShare:()=>C.success("Post shared!"),onDelete:Pn},m.id))}),t.jsx(_t,{value:"photos",children:t.jsx(ue,{className:"border-gray-200/50 dark:border-gray-700/50 bg-white dark:bg-gray-900",children:t.jsx(he,{className:"pt-6",children:t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:u.filter(m=>m.image_url).map(m=>t.jsxs("div",{className:"relative group rounded-xl overflow-hidden",children:[t.jsx("img",{src:m.image_url,alt:"Post",className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300",onClick:()=>C.info("Viewing photo in full screen")}),t.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end justify-between p-3",children:[t.jsxs("div",{className:"text-white",children:[t.jsx("p",{className:"text-sm font-medium truncate",children:m.user.full_name}),t.jsx("p",{className:"text-xs opacity-90",children:new Date(m.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(R,{size:"sm",variant:"secondary",className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white",onClick:()=>dr(m.id),children:t.jsx(Lr,{className:`h-3 w-3 ${m.liked?"fill-current":""}`})}),t.jsx(R,{size:"sm",variant:"secondary",className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white",onClick:()=>C.info("Comment on photo"),children:t.jsx(st,{className:"h-3 w-3"})})]})]})]},m.id))})})})}),t.jsx(_t,{value:"videos",children:t.jsx(ue,{className:"border-gray-200/50 dark:border-gray-700/50 bg-white dark:bg-gray-900",children:t.jsx(he,{className:"pt-6 text-center",children:t.jsxs("div",{className:"py-12 space-y-4",children:[t.jsx("div",{className:"h-16 w-16 mx-auto rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:t.jsx(at,{className:"h-8 w-8 text-gray-400"})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"No videos yet"}),t.jsx("p",{className:"text-gray-500 dark:text-gray-400 max-w-sm mx-auto",children:"Share your first video to showcase your work or team activities"}),t.jsx("div",{className:"pt-4",children:t.jsxs(R,{variant:"outline",onClick:()=>C.info("Video upload feature coming soon!"),className:"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300",children:[t.jsx(at,{className:"h-4 w-4 mr-2"}),"Upload Your First Video"]})})]})})})})]})]})]})]}),t.jsx(Xe,{open:w,onOpenChange:N,children:t.jsxs(Ze,{className:"max-w-2xl max-h-[90vh] overflow-y-auto bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700",children:[t.jsxs(Je,{children:[t.jsx(et,{className:"text-xl text-gray-900 dark:text-white",children:"Edit Profile"}),t.jsx(tt,{className:"text-gray-600 dark:text-gray-400",children:"Update your professional profile information."})]}),t.jsxs("div",{className:"space-y-6 py-2",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(H,{htmlFor:"first_name",className:"text-gray-900 dark:text-white",children:"First Name"}),t.jsx(Y,{id:"first_name",value:b.first_name,onChange:m=>$({...b,first_name:m.target.value}),className:"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(H,{htmlFor:"last_name",className:"text-gray-900 dark:text-white",children:"Last Name"}),t.jsx(Y,{id:"last_name",value:b.last_name,onChange:m=>$({...b,last_name:m.target.value}),className:"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(H,{htmlFor:"bio",className:"text-gray-900 dark:text-white",children:"Professional Summary"}),t.jsx(wn,{id:"bio",value:b.bio,onChange:m=>$({...b,bio:m.target.value}),placeholder:"Tell people about your professional background and expertise...",className:"min-h-[100px] border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(H,{htmlFor:"department",className:"text-gray-900 dark:text-white",children:"Department"}),t.jsx(Y,{id:"department",value:b.department,onChange:m=>$({...b,department:m.target.value}),placeholder:"Engineering, Marketing, HR, etc.",className:"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(H,{htmlFor:"position",className:"text-gray-900 dark:text-white",children:"Position"}),t.jsx(Y,{id:"position",value:b.position,onChange:m=>$({...b,position:m.target.value}),placeholder:"Your job title",className:"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(H,{htmlFor:"location",className:"text-gray-900 dark:text-white",children:"Location"}),t.jsx(Y,{id:"location",value:b.location,onChange:m=>$({...b,location:m.target.value}),placeholder:"City, Country",className:"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(H,{htmlFor:"phone",className:"text-gray-900 dark:text-white",children:"Phone"}),t.jsx(Y,{id:"phone",value:b.phone,onChange:m=>$({...b,phone:m.target.value}),placeholder:"+1 (555) 123-4567",className:"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(H,{htmlFor:"workplace",className:"text-gray-900 dark:text-white",children:"Company"}),t.jsx(Y,{id:"workplace",value:b.workplace,onChange:m=>$({...b,workplace:m.target.value}),placeholder:"Your company name",className:"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(H,{htmlFor:"hire_date",className:"text-gray-900 dark:text-white",children:"Hire Date"}),t.jsx(Y,{id:"hire_date",type:"date",value:b.hire_date,onChange:m=>$({...b,hire_date:m.target.value}),className:"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(H,{htmlFor:"education",className:"text-gray-900 dark:text-white",children:"Education"}),t.jsx(Y,{id:"education",value:b.education,onChange:m=>$({...b,education:m.target.value}),placeholder:"Your educational background",className:"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(H,{htmlFor:"birthday",className:"text-gray-900 dark:text-white",children:"Birthday"}),t.jsx(Y,{id:"birthday",type:"date",value:b.birthday,onChange:m=>$({...b,birthday:m.target.value}),className:"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(H,{htmlFor:"website",className:"text-gray-900 dark:text-white",children:"Website"}),t.jsx(Y,{id:"website",value:b.website,onChange:m=>$({...b,website:m.target.value}),placeholder:"https://yourportfolio.com",className:"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(H,{htmlFor:"privacy",className:"text-gray-900 dark:text-white",children:"Profile Privacy"}),t.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[t.jsxs(R,{type:"button",variant:b.privacy==="public"?"default":"outline",onClick:()=>$({...b,privacy:"public"}),className:"justify-start gap-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300",children:[t.jsx(Fr,{className:"h-4 w-4"}),"Public"]}),t.jsxs(R,{type:"button",variant:b.privacy==="friends"?"default":"outline",onClick:()=>$({...b,privacy:"friends"}),className:"justify-start gap-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300",children:[t.jsx(rt,{className:"h-4 w-4"}),"Connections Only"]}),t.jsxs(R,{type:"button",variant:b.privacy==="private"?"default":"outline",onClick:()=>$({...b,privacy:"private"}),className:"justify-start gap-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300",children:[t.jsx(Kn,{className:"h-4 w-4"}),"Private"]})]})]})]}),t.jsxs(Qe,{children:[t.jsx(R,{variant:"outline",onClick:()=>N(!1),className:"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300",children:"Cancel"}),t.jsx(R,{onClick:lr,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white",children:"Save Changes"})]})]})}),t.jsx(Xe,{open:S,onOpenChange:_,children:t.jsxs(Ze,{className:"bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700",children:[t.jsxs(Je,{children:[t.jsx(et,{className:"text-gray-900 dark:text-white",children:"Log Out"}),t.jsx(tt,{className:"text-gray-600 dark:text-gray-400",children:"Are you sure you want to log out? You will need to sign in again to access your account."})]}),t.jsxs(Qe,{children:[t.jsx(R,{variant:"outline",onClick:()=>_(!1),className:"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300",children:"Cancel"}),t.jsxs(R,{variant:"destructive",onClick:kn,children:[t.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Log Out"]})]})]})}),t.jsx(Xe,{open:T,onOpenChange:L,children:t.jsxs(Ze,{className:"bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700",children:[t.jsxs(Je,{children:[t.jsx(et,{className:"text-gray-900 dark:text-white",children:"Change Password"}),t.jsx(tt,{className:"text-gray-600 dark:text-gray-400",children:"Enter your current password and a new password to update your account security."})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(H,{htmlFor:"currentPassword",className:"text-gray-900 dark:text-white",children:"Current Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Y,{id:"currentPassword",type:K?"text":"password",value:F.currentPassword,onChange:m=>G({...F,currentPassword:m.target.value}),className:"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),t.jsx(R,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-600 dark:text-gray-400",onClick:()=>Z(!K),children:K?t.jsx(wt,{className:"h-4 w-4"}):t.jsx(jt,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(H,{htmlFor:"newPassword",className:"text-gray-900 dark:text-white",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Y,{id:"newPassword",type:ge?"text":"password",value:F.newPassword,onChange:m=>G({...F,newPassword:m.target.value}),className:"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),t.jsx(R,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-600 dark:text-gray-400",onClick:()=>J(!ge),children:ge?t.jsx(wt,{className:"h-4 w-4"}):t.jsx(jt,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(H,{htmlFor:"confirmPassword",className:"text-gray-900 dark:text-white",children:"Confirm New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Y,{id:"confirmPassword",type:E?"text":"password",value:F.confirmPassword,onChange:m=>G({...F,confirmPassword:m.target.value}),className:"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),t.jsx(R,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-600 dark:text-gray-400",onClick:()=>te(!E),children:E?t.jsx(wt,{className:"h-4 w-4"}):t.jsx(jt,{className:"h-4 w-4"})})]})]})]}),t.jsxs(Qe,{children:[t.jsx(R,{variant:"outline",onClick:()=>L(!1),className:"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300",children:"Cancel"}),t.jsxs(R,{onClick:Sn,disabled:W,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white",children:[W?t.jsx(ve,{className:"h-4 w-4 mr-2 animate-spin"}):null,"Change Password"]})]})]})}),t.jsx(Xe,{open:U,onOpenChange:M,children:t.jsxs(Ze,{className:"bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700",children:[t.jsxs(Je,{children:[t.jsx(et,{className:"text-gray-900 dark:text-white",children:"Privacy Settings"}),t.jsx(tt,{className:"text-gray-600 dark:text-gray-400",children:"Control who can see your profile and activity on DeskStaff."})]}),t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Profile Visibility"}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Who can see your profile?"})]}),t.jsxs("select",{className:"border rounded-lg px-3 py-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",value:b.privacy,onChange:m=>$({...b,privacy:m.target.value}),children:[t.jsx("option",{value:"public",children:"Public"}),t.jsx("option",{value:"friends",children:"Connections Only"}),t.jsx("option",{value:"private",children:"Private"})]})]}),t.jsx(Ae,{className:"bg-gray-200 dark:bg-gray-700"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Email Visibility"}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Who can see your email?"})]}),t.jsxs("select",{className:"border rounded-lg px-3 py-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[t.jsx("option",{children:"Only Me"}),t.jsx("option",{children:"Connections"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Connections List"}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Who can see your connections?"})]}),t.jsxs("select",{className:"border rounded-lg px-3 py-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[t.jsx("option",{children:"Public"}),t.jsx("option",{children:"Connections Only"}),t.jsx("option",{children:"Only Me"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Post Visibility"}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Default audience for new posts"})]}),t.jsxs("select",{className:"border rounded-lg px-3 py-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[t.jsx("option",{children:"Public"}),t.jsx("option",{children:"Connections Only"}),t.jsx("option",{children:"Only Me"})]})]})]})]})}),t.jsxs(Qe,{children:[t.jsx(R,{variant:"outline",onClick:()=>M(!1),className:"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300",children:"Cancel"}),t.jsx(R,{onClick:()=>{lr(),M(!1),C.success("Privacy settings updated")},className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white",children:"Save Privacy Settings"})]})]})}),t.jsxs("div",{className:"fixed bottom-4 right-4 flex flex-col gap-2",children:[t.jsx(R,{variant:"outline",size:"sm",onClick:Nn,className:"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300",children:"Test Login Status Update"}),t.jsx(R,{onClick:()=>{console.log("Current states:",{loggedInUser:n,viewedUser:s,currentUserId:c,loading:f}),ne()},className:"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300",size:"sm",children:"Debug Fetch"})]})]})})});export{kd as default};
