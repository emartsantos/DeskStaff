import{c as T,a as z,L as Be}from"./loader-circle-B5kmy_fB.js";import{r as Ar,a,p as i,R as q,y as Tr}from"./chunk-EPOLDU6W-BHelFxtI.js";import{P as Qe,c as X,u as G,B,C as Dr,a as Or}from"./card-DCCwVGqU.js";import{b as Ge,c as R,u as _t,P as Ee,I as $r,T as Fr,t as I}from"./index-C0vNNbe7.js";import{a as Lr}from"./index-BRs_dBEV.js";import{b as ae,u as We,c as Mt,R as Ur,A as Vr,P as Kr,D as Br,C as Gr,a as Wr}from"./index-DQ1tQClc.js";import{_ as H,a as kt,c as Hr,s as j}from"./supabase-ABfmbsGw.js";import{c as zr,K as Yr,S as qr}from"./separator-Bmx-RGAP.js";const Xr=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Zr=T("bell",Xr);const Qr=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Jr=T("building",Qr);const en=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],tn=T("camera",en);const rn=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],hc=T("heart",rn);const nn=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],on=T("house",nn);const an=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],sn=T("image",an);const cn=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],un=T("log-out",cn);const ln=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],dn=T("message-circle",ln);const fn=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],pn=T("search",fn);const mn=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],hn=T("send",mn);const vn=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],gn=T("shield",vn);const xn=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],yn=T("smile",xn);const bn=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],wn=T("square-pen",bn);const Sn=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vc=T("trash-2",Sn);const Cn=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],En=T("user",Cn);const _n=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Mn=T("users",_n);const kn=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Nn=T("video",kn);const Rn=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Pn=T("x",Rn);var Ie={exports:{}},Ae={};var ut;function jn(){if(ut)return Ae;ut=1;var e=Ar();function t(l,v){return l===v&&(l!==0||1/l===1/v)||l!==l&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,o=e.useEffect,c=e.useLayoutEffect,u=e.useDebugValue;function s(l,v){var g=v(),x=n({inst:{value:g,getSnapshot:v}}),h=x[0].inst,m=x[1];return c(function(){h.value=g,h.getSnapshot=v,d(h)&&m({inst:h})},[l,g,v]),o(function(){return d(h)&&m({inst:h}),l(function(){d(h)&&m({inst:h})})},[l]),u(g),g}function d(l){var v=l.getSnapshot;l=l.value;try{var g=v();return!r(l,g)}catch{return!0}}function f(l,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:s;return Ae.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Ae}var lt;function In(){return lt||(lt=1,Ie.exports=jn()),Ie.exports}var An=In();function Tn(){return An.useSyncExternalStore(Dn,()=>!0,()=>!1)}function Dn(){return()=>{}}var Je="Avatar",[On]=zr(Je),[$n,Nt]=On(Je),Rt=a.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[o,c]=a.useState("idle");return i.jsx($n,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:c,children:i.jsx(Qe.span,{...n,ref:t})})});Rt.displayName=Je;var Pt="AvatarImage",jt=a.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:o=()=>{},...c}=e,u=Nt(Pt,r),s=Fn(n,c),d=ae(f=>{o(f),u.onImageLoadingStatusChange(f)});return Ge(()=>{s!=="idle"&&d(s)},[s,d]),s==="loaded"?i.jsx(Qe.img,{...c,ref:t,src:n}):null});jt.displayName=Pt;var It="AvatarFallback",At=a.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...o}=e,c=Nt(It,r),[u,s]=a.useState(n===void 0);return a.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>s(!0),n);return()=>window.clearTimeout(d)}},[n]),u&&c.imageLoadingStatus!=="loaded"?i.jsx(Qe.span,{...o,ref:t}):null});At.displayName=It;function dt(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Fn(e,{referrerPolicy:t,crossOrigin:r}){const n=Tn(),o=a.useRef(null),c=n?(o.current||(o.current=new window.Image),o.current):null,[u,s]=a.useState(()=>dt(c,e));return Ge(()=>{s(dt(c,e))},[c,e]),Ge(()=>{const d=l=>()=>{s(l)};if(!c)return;const f=d("loaded"),p=d("error");return c.addEventListener("load",f),c.addEventListener("error",p),t&&(c.referrerPolicy=t),typeof r=="string"&&(c.crossOrigin=r),()=>{c.removeEventListener("load",f),c.removeEventListener("error",p)}},[c,r,t]),u}var Ln=Rt,Un=jt,Vn=At;function He({className:e,...t}){return i.jsx(Ln,{"data-slot":"avatar",className:z("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function ze({className:e,...t}){return i.jsx(Un,{"data-slot":"avatar-image",className:z("aspect-square size-full",e),...t})}function Ye({className:e,...t}){return i.jsx(Vn,{"data-slot":"avatar-fallback",className:z("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}function Kn(e,t=[]){let r=[];function n(c,u){const s=a.createContext(u),d=r.length;r=[...r,u];const f=l=>{const{scope:v,children:g,...x}=l,h=v?.[e]?.[d]||s,m=a.useMemo(()=>x,Object.values(x));return i.jsx(h.Provider,{value:m,children:g})};f.displayName=c+"Provider";function p(l,v){const g=v?.[e]?.[d]||s,x=a.useContext(g);if(x)return x;if(u!==void 0)return u;throw new Error(`\`${l}\` must be used within \`${c}\``)}return[f,p]}const o=()=>{const c=r.map(u=>a.createContext(u));return function(s){const d=s?.[e]||c;return a.useMemo(()=>({[`__scope${e}`]:{...s,[e]:d}}),[s,d])}};return o.scopeName=e,[n,Bn(o,...t)]}function Bn(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const u=n.reduce((s,{useScope:d,scopeName:f})=>{const l=d(c)[`__scope${f}`];return{...s,...l}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return r.scopeName=t.scopeName,r}function Gn(e){const t=Wn(e),r=a.forwardRef((n,o)=>{const{children:c,...u}=n,s=a.Children.toArray(c),d=s.find(zn);if(d){const f=d.props.children,p=s.map(l=>l===d?a.Children.count(f)>1?a.Children.only(null):a.isValidElement(f)?f.props.children:null:l);return i.jsx(t,{...u,ref:o,children:a.isValidElement(f)?a.cloneElement(f,void 0,p):null})}return i.jsx(t,{...u,ref:o,children:c})});return r.displayName=`${e}.Slot`,r}function Wn(e){const t=a.forwardRef((r,n)=>{const{children:o,...c}=r;if(a.isValidElement(o)){const u=qn(o),s=Yn(c,o.props);return o.type!==a.Fragment&&(s.ref=n?X(n,u):u),a.cloneElement(o,s)}return a.Children.count(o)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Hn=Symbol("radix.slottable");function zn(e){return a.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Hn}function Yn(e,t){const r={...t};for(const n in t){const o=e[n],c=t[n];/^on[A-Z]/.test(n)?o&&c?r[n]=(...s)=>{const d=c(...s);return o(...s),d}:o&&(r[n]=o):n==="style"?r[n]={...o,...c}:n==="className"&&(r[n]=[o,c].filter(Boolean).join(" "))}return{...e,...r}}function qn(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Xn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Zn=Xn.reduce((e,t)=>{const r=Gn(`Primitive.${t}`),n=a.forwardRef((o,c)=>{const{asChild:u,...s}=o,d=u?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(d,{...s,ref:c})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Qn(e,t=[]){let r=[];function n(c,u){const s=a.createContext(u),d=r.length;r=[...r,u];const f=l=>{const{scope:v,children:g,...x}=l,h=v?.[e]?.[d]||s,m=a.useMemo(()=>x,Object.values(x));return i.jsx(h.Provider,{value:m,children:g})};f.displayName=c+"Provider";function p(l,v){const g=v?.[e]?.[d]||s,x=a.useContext(g);if(x)return x;if(u!==void 0)return u;throw new Error(`\`${l}\` must be used within \`${c}\``)}return[f,p]}const o=()=>{const c=r.map(u=>a.createContext(u));return function(s){const d=s?.[e]||c;return a.useMemo(()=>({[`__scope${e}`]:{...s,[e]:d}}),[s,d])}};return o.scopeName=e,[n,Jn(o,...t)]}function Jn(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const u=n.reduce((s,{useScope:d,scopeName:f})=>{const l=d(c)[`__scope${f}`];return{...s,...l}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return r.scopeName=t.scopeName,r}function ft(e){const t=eo(e),r=a.forwardRef((n,o)=>{const{children:c,...u}=n,s=a.Children.toArray(c),d=s.find(ro);if(d){const f=d.props.children,p=s.map(l=>l===d?a.Children.count(f)>1?a.Children.only(null):a.isValidElement(f)?f.props.children:null:l);return i.jsx(t,{...u,ref:o,children:a.isValidElement(f)?a.cloneElement(f,void 0,p):null})}return i.jsx(t,{...u,ref:o,children:c})});return r.displayName=`${e}.Slot`,r}function eo(e){const t=a.forwardRef((r,n)=>{const{children:o,...c}=r;if(a.isValidElement(o)){const u=oo(o),s=no(c,o.props);return o.type!==a.Fragment&&(s.ref=n?X(n,u):u),a.cloneElement(o,s)}return a.Children.count(o)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var to=Symbol("radix.slottable");function ro(e){return a.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===to}function no(e,t){const r={...t};for(const n in t){const o=e[n],c=t[n];/^on[A-Z]/.test(n)?o&&c?r[n]=(...s)=>{const d=c(...s);return o(...s),d}:o&&(r[n]=o):n==="style"?r[n]={...o,...c}:n==="className"&&(r[n]=[o,c].filter(Boolean).join(" "))}return{...e,...r}}function oo(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Tt(e){const t=e+"CollectionProvider",[r,n]=Qn(t),[o,c]=r(t,{collectionRef:{current:null},itemMap:new Map}),u=h=>{const{scope:m,children:C}=h,E=q.useRef(null),_=q.useRef(new Map).current;return i.jsx(o,{scope:m,itemMap:_,collectionRef:E,children:C})};u.displayName=t;const s=e+"CollectionSlot",d=ft(s),f=q.forwardRef((h,m)=>{const{scope:C,children:E}=h,_=c(s,C),k=G(m,_.collectionRef);return i.jsx(d,{ref:k,children:E})});f.displayName=s;const p=e+"CollectionItemSlot",l="data-radix-collection-item",v=ft(p),g=q.forwardRef((h,m)=>{const{scope:C,children:E,..._}=h,k=q.useRef(null),S=G(m,k),y=c(p,C);return q.useEffect(()=>(y.itemMap.set(k,{ref:k,..._}),()=>{y.itemMap.delete(k)})),i.jsx(v,{[l]:"",ref:S,children:E})});g.displayName=p;function x(h){const m=c(e+"CollectionConsumer",h);return q.useCallback(()=>{const E=m.collectionRef.current;if(!E)return[];const _=Array.from(E.querySelectorAll(`[${l}]`));return Array.from(m.itemMap.values()).sort((y,b)=>_.indexOf(y.ref.current)-_.indexOf(b.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:u,Slot:f,ItemSlot:g},x,n]}function ao(e,t=[]){let r=[];function n(c,u){const s=a.createContext(u),d=r.length;r=[...r,u];const f=l=>{const{scope:v,children:g,...x}=l,h=v?.[e]?.[d]||s,m=a.useMemo(()=>x,Object.values(x));return i.jsx(h.Provider,{value:m,children:g})};f.displayName=c+"Provider";function p(l,v){const g=v?.[e]?.[d]||s,x=a.useContext(g);if(x)return x;if(u!==void 0)return u;throw new Error(`\`${l}\` must be used within \`${c}\``)}return[f,p]}const o=()=>{const c=r.map(u=>a.createContext(u));return function(s){const d=s?.[e]||c;return a.useMemo(()=>({[`__scope${e}`]:{...s,[e]:d}}),[s,d])}};return o.scopeName=e,[n,so(o,...t)]}function so(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const u=n.reduce((s,{useScope:d,scopeName:f})=>{const l=d(c)[`__scope${f}`];return{...s,...l}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return r.scopeName=t.scopeName,r}var co=a.createContext(void 0);function Dt(e){const t=a.useContext(co);return e||t||"ltr"}var Te=0;function io(){a.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??pt()),document.body.insertAdjacentElement("beforeend",e[1]??pt()),Te++,()=>{Te===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Te--}},[])}function pt(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function uo(e){const t=lo(e),r=a.forwardRef((n,o)=>{const{children:c,...u}=n,s=a.Children.toArray(c),d=s.find(po);if(d){const f=d.props.children,p=s.map(l=>l===d?a.Children.count(f)>1?a.Children.only(null):a.isValidElement(f)?f.props.children:null:l);return i.jsx(t,{...u,ref:o,children:a.isValidElement(f)?a.cloneElement(f,void 0,p):null})}return i.jsx(t,{...u,ref:o,children:c})});return r.displayName=`${e}.Slot`,r}function lo(e){const t=a.forwardRef((r,n)=>{const{children:o,...c}=r;if(a.isValidElement(o)){const u=ho(o),s=mo(c,o.props);return o.type!==a.Fragment&&(s.ref=n?X(n,u):u),a.cloneElement(o,s)}return a.Children.count(o)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fo=Symbol("radix.slottable");function po(e){return a.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fo}function mo(e,t){const r={...t};for(const n in t){const o=e[n],c=t[n];/^on[A-Z]/.test(n)?o&&c?r[n]=(...s)=>{const d=c(...s);return o(...s),d}:o&&(r[n]=o):n==="style"?r[n]={...o,...c}:n==="className"&&(r[n]=[o,c].filter(Boolean).join(" "))}return{...e,...r}}function ho(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var vo=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],go=vo.reduce((e,t)=>{const r=uo(`Primitive.${t}`),n=a.forwardRef((o,c)=>{const{asChild:u,...s}=o,d=u?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(d,{...s,ref:c})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),De="focusScope.autoFocusOnMount",Oe="focusScope.autoFocusOnUnmount",mt={bubbles:!1,cancelable:!0},xo="FocusScope",Ot=a.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...u}=e,[s,d]=a.useState(null),f=ae(o),p=ae(c),l=a.useRef(null),v=G(t,h=>d(h)),g=a.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;a.useEffect(()=>{if(n){let h=function(_){if(g.paused||!s)return;const k=_.target;s.contains(k)?l.current=k:W(l.current,{select:!0})},m=function(_){if(g.paused||!s)return;const k=_.relatedTarget;k!==null&&(s.contains(k)||W(l.current,{select:!0}))},C=function(_){if(document.activeElement===document.body)for(const S of _)S.removedNodes.length>0&&W(s)};document.addEventListener("focusin",h),document.addEventListener("focusout",m);const E=new MutationObserver(C);return s&&E.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",m),E.disconnect()}}},[n,s,g.paused]),a.useEffect(()=>{if(s){vt.add(g);const h=document.activeElement;if(!s.contains(h)){const C=new CustomEvent(De,mt);s.addEventListener(De,f),s.dispatchEvent(C),C.defaultPrevented||(yo(Eo($t(s)),{select:!0}),document.activeElement===h&&W(s))}return()=>{s.removeEventListener(De,f),setTimeout(()=>{const C=new CustomEvent(Oe,mt);s.addEventListener(Oe,p),s.dispatchEvent(C),C.defaultPrevented||W(h??document.body,{select:!0}),s.removeEventListener(Oe,p),vt.remove(g)},0)}}},[s,f,p,g]);const x=a.useCallback(h=>{if(!r&&!n||g.paused)return;const m=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,C=document.activeElement;if(m&&C){const E=h.currentTarget,[_,k]=bo(E);_&&k?!h.shiftKey&&C===k?(h.preventDefault(),r&&W(_,{select:!0})):h.shiftKey&&C===_&&(h.preventDefault(),r&&W(k,{select:!0})):C===E&&h.preventDefault()}},[r,n,g.paused]);return i.jsx(go.div,{tabIndex:-1,...u,ref:v,onKeyDown:x})});Ot.displayName=xo;function yo(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(W(n,{select:t}),document.activeElement!==r)return}function bo(e){const t=$t(e),r=ht(t,e),n=ht(t.reverse(),e);return[r,n]}function $t(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ht(e,t){for(const r of e)if(!wo(r,{upTo:t}))return r}function wo(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function So(e){return e instanceof HTMLInputElement&&"select"in e}function W(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&So(e)&&t&&e.select()}}var vt=Co();function Co(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=gt(e,t),e.unshift(t)},remove(t){e=gt(e,t),e[0]?.resume()}}}function gt(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Eo(e){return e.filter(t=>t.tagName!=="A")}function Ft(e){const t=_o(e),r=a.forwardRef((n,o)=>{const{children:c,...u}=n,s=a.Children.toArray(c),d=s.find(ko);if(d){const f=d.props.children,p=s.map(l=>l===d?a.Children.count(f)>1?a.Children.only(null):a.isValidElement(f)?f.props.children:null:l);return i.jsx(t,{...u,ref:o,children:a.isValidElement(f)?a.cloneElement(f,void 0,p):null})}return i.jsx(t,{...u,ref:o,children:c})});return r.displayName=`${e}.Slot`,r}function _o(e){const t=a.forwardRef((r,n)=>{const{children:o,...c}=r;if(a.isValidElement(o)){const u=Ro(o),s=No(c,o.props);return o.type!==a.Fragment&&(s.ref=n?X(n,u):u),a.cloneElement(o,s)}return a.Children.count(o)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Mo=Symbol("radix.slottable");function ko(e){return a.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Mo}function No(e,t){const r={...t};for(const n in t){const o=e[n],c=t[n];/^on[A-Z]/.test(n)?o&&c?r[n]=(...s)=>{const d=c(...s);return o(...s),d}:o&&(r[n]=o):n==="style"?r[n]={...o,...c}:n==="className"&&(r[n]=[o,c].filter(Boolean).join(" "))}return{...e,...r}}function Ro(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Po=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fe=Po.reduce((e,t)=>{const r=Ft(`Primitive.${t}`),n=a.forwardRef((o,c)=>{const{asChild:u,...s}=o,d=u?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(d,{...s,ref:c})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function jo(e,t){e&&Lr.flushSync(()=>e.dispatchEvent(t))}function Io(e,t=[]){let r=[];function n(c,u){const s=a.createContext(u),d=r.length;r=[...r,u];const f=l=>{const{scope:v,children:g,...x}=l,h=v?.[e]?.[d]||s,m=a.useMemo(()=>x,Object.values(x));return i.jsx(h.Provider,{value:m,children:g})};f.displayName=c+"Provider";function p(l,v){const g=v?.[e]?.[d]||s,x=a.useContext(g);if(x)return x;if(u!==void 0)return u;throw new Error(`\`${l}\` must be used within \`${c}\``)}return[f,p]}const o=()=>{const c=r.map(u=>a.createContext(u));return function(s){const d=s?.[e]||c;return a.useMemo(()=>({[`__scope${e}`]:{...s,[e]:d}}),[s,d])}};return o.scopeName=e,[n,Ao(o,...t)]}function Ao(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const u=n.reduce((s,{useScope:d,scopeName:f})=>{const l=d(c)[`__scope${f}`];return{...s,...l}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return r.scopeName=t.scopeName,r}function To(e){const t=Do(e),r=a.forwardRef((n,o)=>{const{children:c,...u}=n,s=a.Children.toArray(c),d=s.find($o);if(d){const f=d.props.children,p=s.map(l=>l===d?a.Children.count(f)>1?a.Children.only(null):a.isValidElement(f)?f.props.children:null:l);return i.jsx(t,{...u,ref:o,children:a.isValidElement(f)?a.cloneElement(f,void 0,p):null})}return i.jsx(t,{...u,ref:o,children:c})});return r.displayName=`${e}.Slot`,r}function Do(e){const t=a.forwardRef((r,n)=>{const{children:o,...c}=r;if(a.isValidElement(o)){const u=Lo(o),s=Fo(c,o.props);return o.type!==a.Fragment&&(s.ref=n?X(n,u):u),a.cloneElement(o,s)}return a.Children.count(o)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Oo=Symbol("radix.slottable");function $o(e){return a.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Oo}function Fo(e,t){const r={...t};for(const n in t){const o=e[n],c=t[n];/^on[A-Z]/.test(n)?o&&c?r[n]=(...s)=>{const d=c(...s);return o(...s),d}:o&&(r[n]=o):n==="style"?r[n]={...o,...c}:n==="className"&&(r[n]=[o,c].filter(Boolean).join(" "))}return{...e,...r}}function Lo(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Uo=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Lt=Uo.reduce((e,t)=>{const r=To(`Primitive.${t}`),n=a.forwardRef((o,c)=>{const{asChild:u,...s}=o,d=u?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(d,{...s,ref:c})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),$e="rovingFocusGroup.onEntryFocus",Vo={bubbles:!1,cancelable:!0},pe="RovingFocusGroup",[qe,Ut,Ko]=Tt(pe),[Bo,Vt]=Io(pe,[Ko]),[Go,Wo]=Bo(pe),Kt=a.forwardRef((e,t)=>i.jsx(qe.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(qe.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Ho,{...e,ref:t})})}));Kt.displayName=pe;var Ho=a.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...l}=e,v=a.useRef(null),g=G(t,v),x=Dt(c),[h,m]=_t({prop:u,defaultProp:s??null,onChange:d,caller:pe}),[C,E]=a.useState(!1),_=ae(f),k=Ut(r),S=a.useRef(!1),[y,b]=a.useState(0);return a.useEffect(()=>{const w=v.current;if(w)return w.addEventListener($e,_),()=>w.removeEventListener($e,_)},[_]),i.jsx(Go,{scope:r,orientation:n,dir:x,loop:o,currentTabStopId:h,onItemFocus:a.useCallback(w=>m(w),[m]),onItemShiftTab:a.useCallback(()=>E(!0),[]),onFocusableItemAdd:a.useCallback(()=>b(w=>w+1),[]),onFocusableItemRemove:a.useCallback(()=>b(w=>w-1),[]),children:i.jsx(Lt.div,{tabIndex:C||y===0?-1:0,"data-orientation":n,...l,ref:g,style:{outline:"none",...e.style},onMouseDown:R(e.onMouseDown,()=>{S.current=!0}),onFocus:R(e.onFocus,w=>{const M=!S.current;if(w.target===w.currentTarget&&M&&!C){const P=new CustomEvent($e,Vo);if(w.currentTarget.dispatchEvent(P),!P.defaultPrevented){const A=k().filter(L=>L.focusable),D=A.find(L=>L.active),$=A.find(L=>L.id===h),K=[D,$,...A].filter(Boolean).map(L=>L.ref.current);Wt(K,p)}}S.current=!1}),onBlur:R(e.onBlur,()=>E(!1))})})}),Bt="RovingFocusGroupItem",Gt=a.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:c,children:u,...s}=e,d=We(),f=c||d,p=Wo(Bt,r),l=p.currentTabStopId===f,v=Ut(r),{onFocusableItemAdd:g,onFocusableItemRemove:x,currentTabStopId:h}=p;return a.useEffect(()=>{if(n)return g(),()=>x()},[n,g,x]),i.jsx(qe.ItemSlot,{scope:r,id:f,focusable:n,active:o,children:i.jsx(Lt.span,{tabIndex:l?0:-1,"data-orientation":p.orientation,...s,ref:t,onMouseDown:R(e.onMouseDown,m=>{n?p.onItemFocus(f):m.preventDefault()}),onFocus:R(e.onFocus,()=>p.onItemFocus(f)),onKeyDown:R(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){p.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const C=qo(m,p.orientation,p.dir);if(C!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let _=v().filter(k=>k.focusable).map(k=>k.ref.current);if(C==="last")_.reverse();else if(C==="prev"||C==="next"){C==="prev"&&_.reverse();const k=_.indexOf(m.currentTarget);_=p.loop?Xo(_,k+1):_.slice(k+1)}setTimeout(()=>Wt(_))}}),children:typeof u=="function"?u({isCurrentTabStop:l,hasTabStop:h!=null}):u})})});Gt.displayName=Bt;var zo={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Yo(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function qo(e,t,r){const n=Yo(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return zo[n]}function Wt(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Xo(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Zo=Kt,Qo=Gt,Jo=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},te=new WeakMap,ve=new WeakMap,ge={},Fe=0,Ht=function(e){return e&&(e.host||Ht(e.parentNode))},ea=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Ht(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},ta=function(e,t,r,n){var o=ea(t,Array.isArray(e)?e:[e]);ge[r]||(ge[r]=new WeakMap);var c=ge[r],u=[],s=new Set,d=new Set(o),f=function(l){!l||s.has(l)||(s.add(l),f(l.parentNode))};o.forEach(f);var p=function(l){!l||d.has(l)||Array.prototype.forEach.call(l.children,function(v){if(s.has(v))p(v);else try{var g=v.getAttribute(n),x=g!==null&&g!=="false",h=(te.get(v)||0)+1,m=(c.get(v)||0)+1;te.set(v,h),c.set(v,m),u.push(v),h===1&&x&&ve.set(v,!0),m===1&&v.setAttribute(r,"true"),x||v.setAttribute(n,"true")}catch(C){console.error("aria-hidden: cannot operate on ",v,C)}})};return p(t),s.clear(),Fe++,function(){u.forEach(function(l){var v=te.get(l)-1,g=c.get(l)-1;te.set(l,v),c.set(l,g),v||(ve.has(l)||l.removeAttribute(n),ve.delete(l)),g||l.removeAttribute(r)}),Fe--,Fe||(te=new WeakMap,te=new WeakMap,ve=new WeakMap,ge={})}},ra=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=Jo(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),ta(n,o,r,"aria-hidden")):function(){return null}},be="right-scroll-bar-position",we="width-before-scroll-bar",na="with-scroll-bars-hidden",oa="--removed-body-scroll-bar-size";function Le(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function aa(e,t){var r=a.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var sa=typeof window<"u"?a.useLayoutEffect:a.useEffect,xt=new WeakMap;function ca(e,t){var r=aa(null,function(n){return e.forEach(function(o){return Le(o,n)})});return sa(function(){var n=xt.get(r);if(n){var o=new Set(n),c=new Set(e),u=r.current;o.forEach(function(s){c.has(s)||Le(s,null)}),c.forEach(function(s){o.has(s)||Le(s,u)})}xt.set(r,e)},[e]),r}function ia(e){return e}function ua(e,t){t===void 0&&(t=ia);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(c){var u=t(c,n);return r.push(u),function(){r=r.filter(function(s){return s!==u})}},assignSyncMedium:function(c){for(n=!0;r.length;){var u=r;r=[],u.forEach(c)}r={push:function(s){return c(s)},filter:function(){return r}}},assignMedium:function(c){n=!0;var u=[];if(r.length){var s=r;r=[],s.forEach(c),u=r}var d=function(){var p=u;u=[],p.forEach(c)},f=function(){return Promise.resolve().then(d)};f(),r={push:function(p){u.push(p),f()},filter:function(p){return u=u.filter(p),r}}}};return o}function la(e){e===void 0&&(e={});var t=ua(null);return t.options=H({async:!0,ssr:!1},e),t}var zt=function(e){var t=e.sideCar,r=kt(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return a.createElement(n,H({},r))};zt.isSideCarExport=!0;function da(e,t){return e.useMedium(t),zt}var Yt=la(),Ue=function(){},_e=a.forwardRef(function(e,t){var r=a.useRef(null),n=a.useState({onScrollCapture:Ue,onWheelCapture:Ue,onTouchMoveCapture:Ue}),o=n[0],c=n[1],u=e.forwardProps,s=e.children,d=e.className,f=e.removeScrollBar,p=e.enabled,l=e.shards,v=e.sideCar,g=e.noRelative,x=e.noIsolation,h=e.inert,m=e.allowPinchZoom,C=e.as,E=C===void 0?"div":C,_=e.gapMode,k=kt(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=v,y=ca([r,t]),b=H(H({},k),o);return a.createElement(a.Fragment,null,p&&a.createElement(S,{sideCar:Yt,removeScrollBar:f,shards:l,noRelative:g,noIsolation:x,inert:h,setCallbacks:c,allowPinchZoom:!!m,lockRef:r,gapMode:_}),u?a.cloneElement(a.Children.only(s),H(H({},b),{ref:y})):a.createElement(E,H({},b,{className:d,ref:y}),s))});_e.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_e.classNames={fullWidth:we,zeroRight:be};var fa=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pa(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=fa();return t&&e.setAttribute("nonce",t),e}function ma(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ha(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var va=function(){var e=0,t=null;return{add:function(r){e==0&&(t=pa())&&(ma(t,r),ha(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ga=function(){var e=va();return function(t,r){a.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},qt=function(){var e=ga(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},xa={left:0,top:0,right:0,gap:0},Ve=function(e){return parseInt(e||"",10)||0},ya=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Ve(r),Ve(n),Ve(o)]},ba=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return xa;var t=ya(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},wa=qt(),oe="data-scroll-locked",Sa=function(e,t,r,n){var o=e.left,c=e.top,u=e.right,s=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(na,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(oe,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(be,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(we,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(be," .").concat(be,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(we," .").concat(we,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(oe,`] {
    `).concat(oa,": ").concat(s,`px;
  }
`)},yt=function(){var e=parseInt(document.body.getAttribute(oe)||"0",10);return isFinite(e)?e:0},Ca=function(){a.useEffect(function(){return document.body.setAttribute(oe,(yt()+1).toString()),function(){var e=yt()-1;e<=0?document.body.removeAttribute(oe):document.body.setAttribute(oe,e.toString())}},[])},Ea=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;Ca();var c=a.useMemo(function(){return ba(o)},[o]);return a.createElement(wa,{styles:Sa(c,!t,o,r?"":"!important")})},Xe=!1;if(typeof window<"u")try{var xe=Object.defineProperty({},"passive",{get:function(){return Xe=!0,!0}});window.addEventListener("test",xe,xe),window.removeEventListener("test",xe,xe)}catch{Xe=!1}var re=Xe?{passive:!1}:!1,_a=function(e){return e.tagName==="TEXTAREA"},Xt=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!_a(e)&&r[t]==="visible")},Ma=function(e){return Xt(e,"overflowY")},ka=function(e){return Xt(e,"overflowX")},bt=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=Zt(e,n);if(o){var c=Qt(e,n),u=c[1],s=c[2];if(u>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Na=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Ra=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Zt=function(e,t){return e==="v"?Ma(t):ka(t)},Qt=function(e,t){return e==="v"?Na(t):Ra(t)},Pa=function(e,t){return e==="h"&&t==="rtl"?-1:1},ja=function(e,t,r,n,o){var c=Pa(e,window.getComputedStyle(t).direction),u=c*n,s=r.target,d=t.contains(s),f=!1,p=u>0,l=0,v=0;do{if(!s)break;var g=Qt(e,s),x=g[0],h=g[1],m=g[2],C=h-m-c*x;(x||C)&&Zt(e,s)&&(l+=C,v+=x);var E=s.parentNode;s=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!d&&s!==document.body||d&&(t.contains(s)||t===s));return(p&&Math.abs(l)<1||!p&&Math.abs(v)<1)&&(f=!0),f},ye=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},wt=function(e){return[e.deltaX,e.deltaY]},St=function(e){return e&&"current"in e?e.current:e},Ia=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Aa=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ta=0,ne=[];function Da(e){var t=a.useRef([]),r=a.useRef([0,0]),n=a.useRef(),o=a.useState(Ta++)[0],c=a.useState(qt)[0],u=a.useRef(e);a.useEffect(function(){u.current=e},[e]),a.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var h=Hr([e.lockRef.current],(e.shards||[]).map(St),!0).filter(Boolean);return h.forEach(function(m){return m.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),h.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var s=a.useCallback(function(h,m){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!u.current.allowPinchZoom;var C=ye(h),E=r.current,_="deltaX"in h?h.deltaX:E[0]-C[0],k="deltaY"in h?h.deltaY:E[1]-C[1],S,y=h.target,b=Math.abs(_)>Math.abs(k)?"h":"v";if("touches"in h&&b==="h"&&y.type==="range")return!1;var w=window.getSelection(),M=w&&w.anchorNode,P=M?M===y||M.contains(y):!1;if(P)return!1;var A=bt(b,y);if(!A)return!0;if(A?S=b:(S=b==="v"?"h":"v",A=bt(b,y)),!A)return!1;if(!n.current&&"changedTouches"in h&&(_||k)&&(n.current=S),!S)return!0;var D=n.current||S;return ja(D,m,h,D==="h"?_:k)},[]),d=a.useCallback(function(h){var m=h;if(!(!ne.length||ne[ne.length-1]!==c)){var C="deltaY"in m?wt(m):ye(m),E=t.current.filter(function(S){return S.name===m.type&&(S.target===m.target||m.target===S.shadowParent)&&Ia(S.delta,C)})[0];if(E&&E.should){m.cancelable&&m.preventDefault();return}if(!E){var _=(u.current.shards||[]).map(St).filter(Boolean).filter(function(S){return S.contains(m.target)}),k=_.length>0?s(m,_[0]):!u.current.noIsolation;k&&m.cancelable&&m.preventDefault()}}},[]),f=a.useCallback(function(h,m,C,E){var _={name:h,delta:m,target:C,should:E,shadowParent:Oa(C)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(k){return k!==_})},1)},[]),p=a.useCallback(function(h){r.current=ye(h),n.current=void 0},[]),l=a.useCallback(function(h){f(h.type,wt(h),h.target,s(h,e.lockRef.current))},[]),v=a.useCallback(function(h){f(h.type,ye(h),h.target,s(h,e.lockRef.current))},[]);a.useEffect(function(){return ne.push(c),e.setCallbacks({onScrollCapture:l,onWheelCapture:l,onTouchMoveCapture:v}),document.addEventListener("wheel",d,re),document.addEventListener("touchmove",d,re),document.addEventListener("touchstart",p,re),function(){ne=ne.filter(function(h){return h!==c}),document.removeEventListener("wheel",d,re),document.removeEventListener("touchmove",d,re),document.removeEventListener("touchstart",p,re)}},[]);var g=e.removeScrollBar,x=e.inert;return a.createElement(a.Fragment,null,x?a.createElement(c,{styles:Aa(o)}):null,g?a.createElement(Ea,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Oa(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $a=da(Yt,Da);var Jt=a.forwardRef(function(e,t){return a.createElement(_e,H({},e,{ref:t,sideCar:$a}))});Jt.classNames=_e.classNames;var Ze=["Enter"," "],Fa=["ArrowDown","PageUp","Home"],er=["ArrowUp","PageDown","End"],La=[...Fa,...er],Ua={ltr:[...Ze,"ArrowRight"],rtl:[...Ze,"ArrowLeft"]},Va={ltr:["ArrowLeft"],rtl:["ArrowRight"]},me="Menu",[le,Ka,Ba]=Tt(me),[Z,tr]=ao(me,[Ba,Mt,Vt]),Me=Mt(),rr=Vt(),[Ga,Q]=Z(me),[Wa,he]=Z(me),nr=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:o,onOpenChange:c,modal:u=!0}=e,s=Me(t),[d,f]=a.useState(null),p=a.useRef(!1),l=ae(c),v=Dt(o);return a.useEffect(()=>{const g=()=>{p.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>p.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),i.jsx(Ur,{...s,children:i.jsx(Ga,{scope:t,open:r,onOpenChange:l,content:d,onContentChange:f,children:i.jsx(Wa,{scope:t,onClose:a.useCallback(()=>l(!1),[l]),isUsingKeyboardRef:p,dir:v,modal:u,children:n})})})};nr.displayName=me;var Ha="MenuAnchor",et=a.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=Me(r);return i.jsx(Vr,{...o,...n,ref:t})});et.displayName=Ha;var tt="MenuPortal",[za,or]=Z(tt,{forceMount:void 0}),ar=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:o}=e,c=Q(tt,t);return i.jsx(za,{scope:t,forceMount:r,children:i.jsx(Ee,{present:r||c.open,children:i.jsx(Kr,{asChild:!0,container:o,children:n})})})};ar.displayName=tt;var U="MenuContent",[Ya,rt]=Z(U),sr=a.forwardRef((e,t)=>{const r=or(U,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,c=Q(U,e.__scopeMenu),u=he(U,e.__scopeMenu);return i.jsx(le.Provider,{scope:e.__scopeMenu,children:i.jsx(Ee,{present:n||c.open,children:i.jsx(le.Slot,{scope:e.__scopeMenu,children:u.modal?i.jsx(qa,{...o,ref:t}):i.jsx(Xa,{...o,ref:t})})})})}),qa=a.forwardRef((e,t)=>{const r=Q(U,e.__scopeMenu),n=a.useRef(null),o=G(t,n);return a.useEffect(()=>{const c=n.current;if(c)return ra(c)},[]),i.jsx(nt,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:R(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Xa=a.forwardRef((e,t)=>{const r=Q(U,e.__scopeMenu);return i.jsx(nt,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Za=Ft("MenuContent.ScrollLock"),nt=a.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:o,onOpenAutoFocus:c,onCloseAutoFocus:u,disableOutsidePointerEvents:s,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:l,onInteractOutside:v,onDismiss:g,disableOutsideScroll:x,...h}=e,m=Q(U,r),C=he(U,r),E=Me(r),_=rr(r),k=Ka(r),[S,y]=a.useState(null),b=a.useRef(null),w=G(t,b,m.onContentChange),M=a.useRef(0),P=a.useRef(""),A=a.useRef(0),D=a.useRef(null),$=a.useRef("right"),V=a.useRef(0),K=x?Jt:a.Fragment,L=x?{as:Za,allowPinchZoom:!0}:void 0,Re=N=>{const ee=P.current+N,Y=k().filter(F=>!F.disabled),se=document.activeElement,Pe=Y.find(F=>F.ref.current===se)?.textValue,je=Y.map(F=>F.textValue),ct=us(je,ee,Pe),ce=Y.find(F=>F.textValue===ct)?.ref.current;(function F(it){P.current=it,window.clearTimeout(M.current),it!==""&&(M.current=window.setTimeout(()=>F(""),1e3))})(ee),ce&&setTimeout(()=>ce.focus())};a.useEffect(()=>()=>window.clearTimeout(M.current),[]),io();const J=a.useCallback(N=>$.current===D.current?.side&&ds(N,D.current?.area),[]);return i.jsx(Ya,{scope:r,searchRef:P,onItemEnter:a.useCallback(N=>{J(N)&&N.preventDefault()},[J]),onItemLeave:a.useCallback(N=>{J(N)||(b.current?.focus(),y(null))},[J]),onTriggerLeave:a.useCallback(N=>{J(N)&&N.preventDefault()},[J]),pointerGraceTimerRef:A,onPointerGraceIntentChange:a.useCallback(N=>{D.current=N},[]),children:i.jsx(K,{...L,children:i.jsx(Ot,{asChild:!0,trapped:o,onMountAutoFocus:R(c,N=>{N.preventDefault(),b.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:i.jsx(Br,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:l,onInteractOutside:v,onDismiss:g,children:i.jsx(Zo,{asChild:!0,..._,dir:C.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:y,onEntryFocus:R(d,N=>{C.isUsingKeyboardRef.current||N.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(Gr,{role:"menu","aria-orientation":"vertical","data-state":Sr(m.open),"data-radix-menu-content":"",dir:C.dir,...E,...h,ref:w,style:{outline:"none",...h.style},onKeyDown:R(h.onKeyDown,N=>{const Y=N.target.closest("[data-radix-menu-content]")===N.currentTarget,se=N.ctrlKey||N.altKey||N.metaKey,Pe=N.key.length===1;Y&&(N.key==="Tab"&&N.preventDefault(),!se&&Pe&&Re(N.key));const je=b.current;if(N.target!==je||!La.includes(N.key))return;N.preventDefault();const ce=k().filter(F=>!F.disabled).map(F=>F.ref.current);er.includes(N.key)&&ce.reverse(),cs(ce)}),onBlur:R(e.onBlur,N=>{N.currentTarget.contains(N.target)||(window.clearTimeout(M.current),P.current="")}),onPointerMove:R(e.onPointerMove,de(N=>{const ee=N.target,Y=V.current!==N.clientX;if(N.currentTarget.contains(ee)&&Y){const se=N.clientX>V.current?"right":"left";$.current=se,V.current=N.clientX}}))})})})})})})});sr.displayName=U;var Qa="MenuGroup",ot=a.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(fe.div,{role:"group",...n,ref:t})});ot.displayName=Qa;var Ja="MenuLabel",cr=a.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(fe.div,{...n,ref:t})});cr.displayName=Ja;var Se="MenuItem",Ct="menu.itemSelect",ke=a.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...o}=e,c=a.useRef(null),u=he(Se,e.__scopeMenu),s=rt(Se,e.__scopeMenu),d=G(t,c),f=a.useRef(!1),p=()=>{const l=c.current;if(!r&&l){const v=new CustomEvent(Ct,{bubbles:!0,cancelable:!0});l.addEventListener(Ct,g=>n?.(g),{once:!0}),jo(l,v),v.defaultPrevented?f.current=!1:u.onClose()}};return i.jsx(ir,{...o,ref:d,disabled:r,onClick:R(e.onClick,p),onPointerDown:l=>{e.onPointerDown?.(l),f.current=!0},onPointerUp:R(e.onPointerUp,l=>{f.current||l.currentTarget?.click()}),onKeyDown:R(e.onKeyDown,l=>{const v=s.searchRef.current!=="";r||v&&l.key===" "||Ze.includes(l.key)&&(l.currentTarget.click(),l.preventDefault())})})});ke.displayName=Se;var ir=a.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:o,...c}=e,u=rt(Se,r),s=rr(r),d=a.useRef(null),f=G(t,d),[p,l]=a.useState(!1),[v,g]=a.useState("");return a.useEffect(()=>{const x=d.current;x&&g((x.textContent??"").trim())},[c.children]),i.jsx(le.ItemSlot,{scope:r,disabled:n,textValue:o??v,children:i.jsx(Qo,{asChild:!0,...s,focusable:!n,children:i.jsx(fe.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...c,ref:f,onPointerMove:R(e.onPointerMove,de(x=>{n?u.onItemLeave(x):(u.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:R(e.onPointerLeave,de(x=>u.onItemLeave(x))),onFocus:R(e.onFocus,()=>l(!0)),onBlur:R(e.onBlur,()=>l(!1))})})})}),es="MenuCheckboxItem",ur=a.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...o}=e;return i.jsx(mr,{scope:e.__scopeMenu,checked:r,children:i.jsx(ke,{role:"menuitemcheckbox","aria-checked":Ce(r)?"mixed":r,...o,ref:t,"data-state":st(r),onSelect:R(o.onSelect,()=>n?.(Ce(r)?!0:!r),{checkForDefaultPrevented:!1})})})});ur.displayName=es;var lr="MenuRadioGroup",[ts,rs]=Z(lr,{value:void 0,onValueChange:()=>{}}),dr=a.forwardRef((e,t)=>{const{value:r,onValueChange:n,...o}=e,c=ae(n);return i.jsx(ts,{scope:e.__scopeMenu,value:r,onValueChange:c,children:i.jsx(ot,{...o,ref:t})})});dr.displayName=lr;var fr="MenuRadioItem",pr=a.forwardRef((e,t)=>{const{value:r,...n}=e,o=rs(fr,e.__scopeMenu),c=r===o.value;return i.jsx(mr,{scope:e.__scopeMenu,checked:c,children:i.jsx(ke,{role:"menuitemradio","aria-checked":c,...n,ref:t,"data-state":st(c),onSelect:R(n.onSelect,()=>o.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});pr.displayName=fr;var at="MenuItemIndicator",[mr,ns]=Z(at,{checked:!1}),hr=a.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...o}=e,c=ns(at,r);return i.jsx(Ee,{present:n||Ce(c.checked)||c.checked===!0,children:i.jsx(fe.span,{...o,ref:t,"data-state":st(c.checked)})})});hr.displayName=at;var os="MenuSeparator",vr=a.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(fe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});vr.displayName=os;var as="MenuArrow",gr=a.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=Me(r);return i.jsx(Wr,{...o,...n,ref:t})});gr.displayName=as;var ss="MenuSub",[gc,xr]=Z(ss),ue="MenuSubTrigger",yr=a.forwardRef((e,t)=>{const r=Q(ue,e.__scopeMenu),n=he(ue,e.__scopeMenu),o=xr(ue,e.__scopeMenu),c=rt(ue,e.__scopeMenu),u=a.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:d}=c,f={__scopeMenu:e.__scopeMenu},p=a.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return a.useEffect(()=>p,[p]),a.useEffect(()=>{const l=s.current;return()=>{window.clearTimeout(l),d(null)}},[s,d]),i.jsx(et,{asChild:!0,...f,children:i.jsx(ir,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":Sr(r.open),...e,ref:X(t,o.onTriggerChange),onClick:l=>{e.onClick?.(l),!(e.disabled||l.defaultPrevented)&&(l.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:R(e.onPointerMove,de(l=>{c.onItemEnter(l),!l.defaultPrevented&&!e.disabled&&!r.open&&!u.current&&(c.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{r.onOpenChange(!0),p()},100))})),onPointerLeave:R(e.onPointerLeave,de(l=>{p();const v=r.content?.getBoundingClientRect();if(v){const g=r.content?.dataset.side,x=g==="right",h=x?-5:5,m=v[x?"left":"right"],C=v[x?"right":"left"];c.onPointerGraceIntentChange({area:[{x:l.clientX+h,y:l.clientY},{x:m,y:v.top},{x:C,y:v.top},{x:C,y:v.bottom},{x:m,y:v.bottom}],side:g}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(l),l.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:R(e.onKeyDown,l=>{const v=c.searchRef.current!=="";e.disabled||v&&l.key===" "||Ua[n.dir].includes(l.key)&&(r.onOpenChange(!0),r.content?.focus(),l.preventDefault())})})})});yr.displayName=ue;var br="MenuSubContent",wr=a.forwardRef((e,t)=>{const r=or(U,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,c=Q(U,e.__scopeMenu),u=he(U,e.__scopeMenu),s=xr(br,e.__scopeMenu),d=a.useRef(null),f=G(t,d);return i.jsx(le.Provider,{scope:e.__scopeMenu,children:i.jsx(Ee,{present:n||c.open,children:i.jsx(le.Slot,{scope:e.__scopeMenu,children:i.jsx(nt,{id:s.contentId,"aria-labelledby":s.triggerId,...o,ref:f,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{u.isUsingKeyboardRef.current&&d.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:R(e.onFocusOutside,p=>{p.target!==s.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:R(e.onEscapeKeyDown,p=>{u.onClose(),p.preventDefault()}),onKeyDown:R(e.onKeyDown,p=>{const l=p.currentTarget.contains(p.target),v=Va[u.dir].includes(p.key);l&&v&&(c.onOpenChange(!1),s.trigger?.focus(),p.preventDefault())})})})})})});wr.displayName=br;function Sr(e){return e?"open":"closed"}function Ce(e){return e==="indeterminate"}function st(e){return Ce(e)?"indeterminate":e?"checked":"unchecked"}function cs(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function is(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function us(e,t,r){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,c=r?e.indexOf(r):-1;let u=is(e,Math.max(c,0));o.length===1&&(u=u.filter(f=>f!==r));const d=u.find(f=>f.toLowerCase().startsWith(o.toLowerCase()));return d!==r?d:void 0}function ls(e,t){const{x:r,y:n}=e;let o=!1;for(let c=0,u=t.length-1;c<t.length;u=c++){const s=t[c],d=t[u],f=s.x,p=s.y,l=d.x,v=d.y;p>n!=v>n&&r<(l-f)*(n-p)/(v-p)+f&&(o=!o)}return o}function ds(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return ls(r,t)}function de(e){return t=>t.pointerType==="mouse"?e(t):void 0}var fs=nr,ps=et,ms=ar,hs=sr,vs=ot,gs=cr,xs=ke,ys=ur,bs=dr,ws=pr,Ss=hr,Cs=vr,Es=gr,_s=yr,Ms=wr,Ne="DropdownMenu",[ks]=Kn(Ne,[tr]),O=tr(),[Ns,Cr]=ks(Ne),Er=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:o,defaultOpen:c,onOpenChange:u,modal:s=!0}=e,d=O(t),f=a.useRef(null),[p,l]=_t({prop:o,defaultProp:c??!1,onChange:u,caller:Ne});return i.jsx(Ns,{scope:t,triggerId:We(),triggerRef:f,contentId:We(),open:p,onOpenChange:l,onOpenToggle:a.useCallback(()=>l(v=>!v),[l]),modal:s,children:i.jsx(fs,{...d,open:p,onOpenChange:l,dir:n,modal:s,children:r})})};Er.displayName=Ne;var _r="DropdownMenuTrigger",Mr=a.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...o}=e,c=Cr(_r,r),u=O(r);return i.jsx(ps,{asChild:!0,...u,children:i.jsx(Zn.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:X(t,c.triggerRef),onPointerDown:R(e.onPointerDown,s=>{!n&&s.button===0&&s.ctrlKey===!1&&(c.onOpenToggle(),c.open||s.preventDefault())}),onKeyDown:R(e.onKeyDown,s=>{n||(["Enter"," "].includes(s.key)&&c.onOpenToggle(),s.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});Mr.displayName=_r;var Rs="DropdownMenuPortal",kr=e=>{const{__scopeDropdownMenu:t,...r}=e,n=O(t);return i.jsx(ms,{...n,...r})};kr.displayName=Rs;var Nr="DropdownMenuContent",Rr=a.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Cr(Nr,r),c=O(r),u=a.useRef(!1);return i.jsx(hs,{id:o.contentId,"aria-labelledby":o.triggerId,...c,...n,ref:t,onCloseAutoFocus:R(e.onCloseAutoFocus,s=>{u.current||o.triggerRef.current?.focus(),u.current=!1,s.preventDefault()}),onInteractOutside:R(e.onInteractOutside,s=>{const d=s.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,p=d.button===2||f;(!o.modal||p)&&(u.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Rr.displayName=Nr;var Ps="DropdownMenuGroup",js=a.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=O(r);return i.jsx(vs,{...o,...n,ref:t})});js.displayName=Ps;var Is="DropdownMenuLabel",Pr=a.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=O(r);return i.jsx(gs,{...o,...n,ref:t})});Pr.displayName=Is;var As="DropdownMenuItem",jr=a.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=O(r);return i.jsx(xs,{...o,...n,ref:t})});jr.displayName=As;var Ts="DropdownMenuCheckboxItem",Ds=a.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=O(r);return i.jsx(ys,{...o,...n,ref:t})});Ds.displayName=Ts;var Os="DropdownMenuRadioGroup",$s=a.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=O(r);return i.jsx(bs,{...o,...n,ref:t})});$s.displayName=Os;var Fs="DropdownMenuRadioItem",Ls=a.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=O(r);return i.jsx(ws,{...o,...n,ref:t})});Ls.displayName=Fs;var Us="DropdownMenuItemIndicator",Vs=a.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=O(r);return i.jsx(Ss,{...o,...n,ref:t})});Vs.displayName=Us;var Ks="DropdownMenuSeparator",Ir=a.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=O(r);return i.jsx(Cs,{...o,...n,ref:t})});Ir.displayName=Ks;var Bs="DropdownMenuArrow",Gs=a.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=O(r);return i.jsx(Es,{...o,...n,ref:t})});Gs.displayName=Bs;var Ws="DropdownMenuSubTrigger",Hs=a.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=O(r);return i.jsx(_s,{...o,...n,ref:t})});Hs.displayName=Ws;var zs="DropdownMenuSubContent",Ys=a.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=O(r);return i.jsx(Ms,{...o,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ys.displayName=zs;var qs=Er,Xs=Mr,Zs=kr,Qs=Rr,Js=Pr,ec=jr,tc=Ir;function rc({...e}){return i.jsx(qs,{"data-slot":"dropdown-menu",...e})}function nc({...e}){return i.jsx(Xs,{"data-slot":"dropdown-menu-trigger",...e})}function oc({className:e,sideOffset:t=4,...r}){return i.jsx(Zs,{children:i.jsx(Qs,{"data-slot":"dropdown-menu-content",sideOffset:t,className:z("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function ie({className:e,inset:t,variant:r="default",...n}){return i.jsx(ec,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:z("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}function ac({className:e,inset:t,...r}){return i.jsx(Js,{"data-slot":"dropdown-menu-label","data-inset":t,className:z("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...r})}function Et({className:e,...t}){return i.jsx(tc,{"data-slot":"dropdown-menu-separator",className:z("bg-border -mx-1 my-1 h-px",e),...t})}function xc({user:e,currentUserId:t,onNavigate:r,onEditProfile:n,onPrivacySettings:o,onChangePassword:c,onLogout:u,onAvatarUpdate:s,onUserUpdate:d,notificationsCount:f=5,messagesCount:p=3}){const[l,v]=a.useState(""),[g,x]=a.useState(!1),m=e||(()=>{try{const w=localStorage.getItem("current_user");if(w)return JSON.parse(w)}catch(w){console.error("Error parsing stored user:",w)}return null})(),C=w=>{w.preventDefault(),l.trim()&&r(`/search?q=${encodeURIComponent(l)}`)},E=async w=>{if(!t){I.error("Please log in to upload profile picture");return}if(!w.type.startsWith("image/")){I.error("Please upload an image file");return}if(w.size>5*1024*1024){I.error("Image size should be less than 5MB");return}x(!0);try{const M=w.name.split(".").pop(),P=`${Date.now()}.${M}`,A=`${t}/${P}`,{error:D}=await j.storage.from("avatars").upload(A,w,{cacheControl:"3600",upsert:!0});if(D)throw D;const{data:{publicUrl:$}}=j.storage.from("avatars").getPublicUrl(A);try{const{error:V}=await j.from("users").update({avatar_url:$}).eq("id",t);if(V&&(console.warn("Note: Could not update avatar_url in database"),m)){const K={...m,avatar_url:$};localStorage.setItem("current_user",JSON.stringify(K))}}catch(V){if(console.warn("Database update failed:",V),m){const K={...m,avatar_url:$};localStorage.setItem("current_user",JSON.stringify(K))}}s&&s($),d&&m&&d({...m,avatar_url:$}),I.success("Profile picture updated!")}catch(M){console.error("Error uploading avatar:",M),I.error(M.message||"Failed to upload profile picture")}finally{x(!1)}},_=async w=>{const M=w.target.files?.[0];M&&await E(M),w.target.value=""},k=()=>{if(!m)return"U";const w=m.first_name||"",M=m.last_name||"";if(w&&M)return`${w[0]}${M[0]}`.toUpperCase();if(m.full_name){const P=m.full_name.split(" ");return P.length>=2?`${P[0][0]}${P[1][0]}`.toUpperCase():P[0][0]?.toUpperCase()||"U"}console.log("userasdadsasdsasdasdasasdasdasdadsasddasasd"+m.full_name)},S=()=>m&&(m.full_name||m.email?.split("@")[0])||"User",y=()=>m&&m.position||"Employee",b=()=>m&&m.email||"";return i.jsx("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg border-b border-gray-200/50 dark:border-gray-700/50",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(Tr,{to:"/",className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(Jr,{className:"h-5 w-5 text-white"})}),i.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent dark:from-blue-400 dark:to-indigo-400",children:"DeskStaff"})]}),i.jsxs("form",{onSubmit:C,className:"relative hidden md:block",children:[i.jsx(pn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx($r,{placeholder:"Search colleagues, projects, or documents...",className:"pl-10 w-64 bg-gray-100/50 dark:bg-gray-700/50 border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-500 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",value:l,onChange:w=>v(w.target.value)})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Fr,{}),i.jsx(B,{variant:"ghost",size:"icon",className:"rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300",title:"Home",onClick:()=>r("/"),children:i.jsx(on,{className:"h-5 w-5"})}),i.jsxs(B,{variant:"ghost",size:"icon",className:"rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 relative text-gray-700 dark:text-gray-300",title:"Notifications",onClick:()=>r("/notifications"),children:[i.jsx(Zr,{className:"h-5 w-5"}),f>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:f>9?"9+":f})]}),i.jsxs(B,{variant:"ghost",size:"icon",className:"rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 relative text-gray-700 dark:text-gray-300",title:"Messages",onClick:()=>r("/messages"),children:[i.jsx(dn,{className:"h-5 w-5"}),p>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:p>9?"9+":p})]}),i.jsx(B,{variant:"ghost",size:"icon",className:"rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300",title:"Teams",onClick:()=>r("/teams"),children:i.jsx(Mn,{className:"h-5 w-5"})}),i.jsxs(rc,{children:[i.jsx(nc,{asChild:!0,children:i.jsx(B,{variant:"ghost",className:"relative h-9 w-9 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",disabled:g,children:g?i.jsx("div",{className:"h-9 w-9 flex items-center justify-center",children:i.jsx(Be,{className:"h-5 w-5 text-blue-600 animate-spin"})}):i.jsxs("div",{className:"relative",children:[i.jsxs(He,{className:"h-9 w-9 ring-2 ring-white dark:ring-gray-700",children:[i.jsx(ze,{src:m?.avatar_url||void 0,alt:S()}),i.jsx(Ye,{className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white",children:k()})]}),i.jsx("label",{className:"absolute -bottom-1 -right-1 cursor-pointer",children:i.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:_,disabled:g})})]})})}),i.jsxs(oc,{className:"w-56 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",align:"end",children:[i.jsxs(ac,{className:"flex items-center gap-3 text-gray-900 dark:text-white p-3",children:[i.jsxs("div",{className:"relative",children:[i.jsxs(He,{className:"h-12 w-12",children:[i.jsx(ze,{src:m?.avatar_url||void 0,alt:S()}),i.jsx(Ye,{className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white",children:k()})]}),i.jsxs("label",{className:"absolute -bottom-1 -right-1 cursor-pointer",children:[i.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:_,disabled:g}),i.jsx("div",{className:"h-6 w-6 bg-blue-600 rounded-full flex items-center justify-center hover:bg-blue-700 transition-colors border-2 border-white dark:border-gray-800",children:g?i.jsx(Be,{className:"h-3 w-3 text-white animate-spin"}):i.jsx(tn,{className:"h-3 w-3 text-white"})})]})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-semibold truncate",children:S()}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:y()}),b()&&i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate mt-1",children:b()})]})]}),i.jsx("div",{className:"px-3 py-2",children:i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"Click camera icon to update profile picture"})}),i.jsx(Et,{className:"bg-gray-200 dark:bg-gray-700"}),i.jsxs(ie,{onClick:()=>t&&r(`/profile/${t}`),className:"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:[i.jsx(En,{className:"mr-2 h-4 w-4"}),"My Profile"]}),i.jsxs(ie,{onClick:n,className:"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:[i.jsx(wn,{className:"mr-2 h-4 w-4"}),"Edit Profile"]}),i.jsxs(ie,{onClick:o,className:"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:[i.jsx(gn,{className:"mr-2 h-4 w-4"}),"Privacy Settings"]}),i.jsxs(ie,{onClick:c,className:"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:[i.jsx(Yr,{className:"mr-2 h-4 w-4"}),"Change Password"]}),i.jsx(Et,{className:"bg-gray-200 dark:bg-gray-700"}),i.jsxs(ie,{className:"text-red-600 focus:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 cursor-pointer",onClick:u,children:[i.jsx(un,{className:"mr-2 h-4 w-4"}),"Log out"]})]})]})]})]})})})}function sc({className:e,...t}){return i.jsx("textarea",{"data-slot":"textarea",className:z("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function yc({user:e,onSubmit:t,placeholder:r="What's on your mind?",disabled:n=!1,onPostCreated:o,autoSave:c=!0}){const[u,s]=a.useState(""),[d,f]=a.useState(null),[p,l]=a.useState(null),[v,g]=a.useState(!1),x=E=>{const _=E.target.files?.[0];if(_){if(_.size>5*1024*1024){I.error("Image size should be less than 5MB");return}if(!_.type.startsWith("image/")){I.error("Please select an image file");return}f(_);const k=new FileReader;k.onloadend=()=>{l(k.result)},k.readAsDataURL(_)}},h=()=>{f(null),l(null)},m=async()=>{if(!e?.id){I.error("Please sign in to create a post");return}if(!u.trim()&&!d){I.error("Post cannot be empty");return}g(!0);try{let E;if(t)E=await t(u,d||void 0);else if(c){I.error("CreatePost component requires onSubmit prop when autoSave is true");return}s(""),f(null),l(null),o&&E&&o(E),t||I.success("Post created successfully!")}catch(E){console.error("Error creating post:",E),I.error(E.message||"Failed to create post")}finally{g(!1)}},C=E=>{(E.ctrlKey||E.metaKey)&&E.key==="Enter"&&(E.preventDefault(),m())};return i.jsx(Dr,{className:"border-gray-200/50 dark:border-gray-700/50 bg-white dark:bg-gray-900 shadow-sm",children:i.jsx(Or,{className:"pt-6",children:i.jsxs("div",{className:"flex gap-4",children:[i.jsxs(He,{className:"h-12 w-12",children:[i.jsx(ze,{src:e?.avatar_url||void 0,alt:e?.full_name||"User"}),i.jsxs(Ye,{className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white",children:[e?.first_name?.[0]||"",e?.last_name?.[0]||""]})]}),i.jsxs("div",{className:"flex-1 space-y-4",children:[i.jsx(sc,{placeholder:`${r} ${e?.first_name||""}?`,value:u,onChange:E=>s(E.target.value),onKeyDown:C,className:"min-h-[120px] resize-none border-gray-300 dark:border-gray-600 focus:border-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 text-base",disabled:n||v}),p&&i.jsxs("div",{className:"relative rounded-xl overflow-hidden border border-gray-200 dark:border-gray-700",children:[i.jsx("img",{src:p,alt:"Preview",className:"w-full max-h-96 object-cover"}),i.jsx(B,{type:"button",variant:"destructive",size:"sm",className:"absolute top-3 right-3 backdrop-blur-sm bg-red-500/80 hover:bg-red-600/80",onClick:h,disabled:v,children:i.jsx(Pn,{className:"h-4 w-4"})})]}),i.jsx(qr,{className:"bg-gray-200 dark:bg-gray-700"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-gray-600 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400 transition-colors",children:[i.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:x,disabled:v||n}),i.jsx("div",{className:"p-2 rounded-lg bg-blue-50 dark:bg-blue-900/30 hover:bg-blue-100 dark:hover:bg-blue-900/50 transition-colors",children:i.jsx(sn,{className:"h-5 w-5"})}),i.jsx("span",{className:"hidden sm:inline font-medium",children:"Photo"})]}),i.jsxs(B,{variant:"ghost",size:"sm",className:"gap-2 text-gray-600 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400",disabled:v||n,onClick:()=>I.info("Video upload coming soon!"),children:[i.jsx("div",{className:"p-2 rounded-lg bg-purple-50 dark:bg-purple-900/30 hover:bg-purple-100 dark:hover:bg-purple-900/50 transition-colors",children:i.jsx(Nn,{className:"h-5 w-5"})}),i.jsx("span",{className:"hidden sm:inline font-medium",children:"Video"})]}),i.jsxs(B,{variant:"ghost",size:"sm",className:"gap-2 text-gray-600 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400",disabled:v||n,onClick:()=>I.info("Feeling picker coming soon!"),children:[i.jsx("div",{className:"p-2 rounded-lg bg-green-50 dark:bg-green-900/30 hover:bg-green-100 dark:hover:bg-green-900/50 transition-colors",children:i.jsx(yn,{className:"h-5 w-5"})}),i.jsx("span",{className:"hidden sm:inline font-medium",children:"Feeling"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[u.trim()||d?i.jsx(B,{variant:"outline",size:"sm",onClick:()=>{s(""),h()},disabled:v||n,className:"text-gray-600 dark:text-gray-300",children:"Cancel"}):null,i.jsx(B,{onClick:m,disabled:v||n||!u.trim()&&!d,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white shadow-lg transition-all duration-200 hover:shadow-xl",children:v?i.jsxs(i.Fragment,{children:[i.jsx(Be,{className:"h-4 w-4 animate-spin mr-2"}),"Posting..."]}):i.jsxs(i.Fragment,{children:[i.jsx(hn,{className:"h-4 w-4 mr-2"}),"Post"]})})]})]})]})]})})})}const Ke=10;function bc(e){const[t,r]=a.useState([]),[n,o]=a.useState(!0),[c,u]=a.useState(null),[s,d]=a.useState(!0),[f,p]=a.useState(0),l=a.useCallback(async(S=0,y=!1)=>{try{o(!0),u(null);const b=S*Ke,w=b+Ke-1;let M=j.from("posts").select(`
          *,
          user:users (
            id,
            full_name,
            avatar_url,
            first_name,
            last_name
          ),
          likes:post_likes(count),
          comments:post_comments(count),
          bookmarks:post_bookmarks(count)
        `,{count:"exact"}).order("created_at",{ascending:!1}).range(b,w);e&&(M=M.eq("user_id",e));const{data:P,error:A,count:D}=await M;if(A)throw A;return r(y?$=>[...$,...P||[]]:P||[]),D!==null&&d((S+1)*Ke<D),P||[]}catch(b){return console.error("Error fetching posts:",b),u(b.message||"Failed to load posts"),I.error("Failed to load posts"),[]}finally{o(!1)}},[e]);a.useEffect(()=>{l(0,!1),p(0);const S=j.channel("posts-realtime").on("postgres_changes",{event:"INSERT",schema:"public",table:"posts"},async y=>{const{data:b}=await j.from("posts").select(`
              *,
              user:users (
                id,
                full_name,
                avatar_url,
                first_name,
                last_name
              ),
              likes:post_likes(count),
              comments:post_comments(count),
              bookmarks:post_bookmarks(count)
            `).eq("id",y.new.id).single();b&&r(w=>[b,...w])}).on("postgres_changes",{event:"DELETE",schema:"public",table:"posts"},y=>{r(b=>b.filter(w=>w.id!==y.old.id))}).subscribe();return()=>{j.removeChannel(S)}},[l]);const v=async()=>{if(n||!s)return;const S=f+1;await l(S,!0),p(S)},g=async(S,y)=>{try{o(!0);const{data:{user:b}}=await j.auth.getUser();if(!b)throw new Error("You must be logged in to create a post");let w;if(y)try{const A=y.name.split(".").pop(),D=Date.now(),$=Math.random().toString(36).substring(2,9),V=`post_${D}_${$}.${A}`,K=`posts/${b.id}/${V}`,{error:L}=await j.storage.from("post_images").upload(K,y,{cacheControl:"3600",upsert:!1,contentType:y.type});if(L)throw L;const{data:{publicUrl:Re}}=j.storage.from("post_images").getPublicUrl(K);w=`${Re}?t=${D}`}catch(A){console.error("Error uploading image:",A),I.error("Failed to upload image. Post created without image.")}const{data:M,error:P}=await j.from("posts").insert([{user_id:b.id,content:S.trim(),image_url:w}]).select(`
          *,
          user:users (
            id,
            full_name,
            avatar_url,
            first_name,
            last_name
          ),
          likes:post_likes(count),
          comments:post_comments(count),
          bookmarks:post_bookmarks(count)
        `).single();if(P)throw P;return M}catch(b){throw console.error("Error creating post:",b),I.error(b.message||"Failed to create post"),b}finally{o(!1)}},x=async S=>{try{const{data:{user:y}}=await j.auth.getUser();if(!y)throw new Error("You must be logged in");const b=t.find(M=>M.id===S);if(!b)throw new Error("Post not found");if(b.user_id!==y.id)throw new Error("You can only delete your own posts");const{error:w}=await j.from("posts").delete().eq("id",S);if(w)throw w}catch(y){throw console.error("Error deleting post:",y),I.error(y.message||"Failed to delete post"),y}},h=async S=>{try{const{data:{user:y}}=await j.auth.getUser();if(!y)throw new Error("You must be logged in to like a post");const{error:b}=await j.from("post_likes").insert([{post_id:S,user_id:y.id}]);if(b){if(b.code==="23505"){await m(S);return}throw b}r(w=>w.map(M=>M.id===S?{...M,likes:[{count:(M.likes[0]?.count||0)+1}]}:M))}catch(y){console.error("Error liking post:",y),I.error(y.message||"Failed to like post")}},m=async S=>{try{const{data:{user:y}}=await j.auth.getUser();if(!y)throw new Error("You must be logged in to unlike a post");const{error:b}=await j.from("post_likes").delete().eq("post_id",S).eq("user_id",y.id);if(b)throw b;r(w=>w.map(M=>M.id===S?{...M,likes:[{count:Math.max(0,(M.likes[0]?.count||0)-1)}]}:M))}catch(y){console.error("Error unliking post:",y),I.error(y.message||"Failed to unlike post")}},C=async S=>{try{const{data:{user:y}}=await j.auth.getUser();if(!y)throw new Error("You must be logged in to bookmark a post");const{error:b}=await j.from("post_bookmarks").insert([{post_id:S,user_id:y.id}]);if(b){if(b.code==="23505"){await E(S);return}throw b}r(w=>w.map(M=>M.id===S?{...M,bookmarks:[{count:(M.bookmarks[0]?.count||0)+1}]}:M))}catch(y){console.error("Error bookmarking post:",y),I.error(y.message||"Failed to bookmark post")}},E=async S=>{try{const{data:{user:y}}=await j.auth.getUser();if(!y)throw new Error("You must be logged in to unbookmark a post");const{error:b}=await j.from("post_bookmarks").delete().eq("post_id",S).eq("user_id",y.id);if(b)throw b;r(w=>w.map(M=>M.id===S?{...M,bookmarks:[{count:Math.max(0,(M.bookmarks[0]?.count||0)-1)}]}:M))}catch(y){console.error("Error unbookmarking post:",y),I.error(y.message||"Failed to unbookmark post")}};return{posts:t,loading:n,error:c,hasMore:s,createPost:g,deletePost:x,likePost:h,unlikePost:m,bookmarkPost:C,unbookmarkPost:E,addComment:async(S,y)=>{try{const{data:{user:b}}=await j.auth.getUser();if(!b)throw new Error("You must be logged in to comment");const{error:w}=await j.from("post_comments").insert([{post_id:S,user_id:b.id,content:y.trim()}]);if(w)throw w;r(M=>M.map(P=>P.id===S?{...P,comments:[{count:(P.comments[0]?.count||0)+1}]}:P))}catch(b){console.error("Error adding comment:",b),I.error(b.message||"Failed to add comment")}},loadMore:v,refreshPosts:async()=>{await l(0,!1),p(0)}}}export{He as A,Jr as B,yc as C,rc as D,Ot as F,hc as H,Qo as I,un as L,dn as M,Zo as R,wn as S,vc as T,Mn as U,Nn as V,Pn as X,ze as a,Ye as b,xc as c,Dt as d,Vt as e,Jt as f,io as g,ra as h,tn as i,nc as j,oc as k,ie as l,Et as m,sn as n,sc as o,bc as u};
